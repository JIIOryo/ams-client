<!DOCTYPE html>
<html lang=“ja”>

<head>
    <meta charset=“UFT-8”>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>AMS local</title>
    <link rel="shortcut icon" href="static/favicon.ico">
    <link rel="apple-touch-icon" type="image/png" href="static/icon/apple-touch-icon-180x180.png">
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript">
        window.ontouchstart = function () { };
        window.addEventListener('touchstart', function () { }, true);
        window.addEventListener('touchstart', function () { }, false);
    </script>
    <!-- reset.css -->
    <style>
        /* http://meyerweb.com/eric/tools/css/reset/
       v2.0 | 20110126
       License: none (public domain)
    */
    
        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
    
        /* HTML5 display-role reset for older browsers */
        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        menu,
        nav,
        section {
            display: block;
        }
    
        body {
            line-height: 1;
        }
    
        ol,
        ul {
            list-style: none;
        }
    
        blockquote,
        q {
            quotes: none;
        }
    
        blockquote:before,
        blockquote:after,
        q:before,
        q:after {
            content: '';
            content: none;
        }
    
        table {
            border-collapse: collapse;
            border-spacing: 0;
        }
    </style>
    <style>
        body {
            font-family: 'Roboto',arial,sans-serif;
        }
        main.fixed {
            position: fixed;
            width: 100%;
            height: 100%;
            left: 0;
        }

        h1 {
            margin: 0.7em 0;
            font-size: 200%;
            font-weight: normal;
        }
        h2 {
            margin: 0.8em 0;
            font-size: 150%;
            font-weight: normal;
        }
        h3 {
            margin: 1em 0;
            font-size: 120%;
            font-weight: normal;
        }
        h4 {
            margin: 1.3em 0;
            font-size: 100%;
            font-weight: normal;
        }
        h5 {
            margin: 1.7em 0;
            font-size: 80%;
            font-weight: normal;
        }
        h6 {
            margin: 2.3em 0;
            font-size: 70%;
            font-weight: normal;
        }
    </style>
</head>

<body>
    <div id="app">
        <main :class="{fixed: updateModal}">

            <!-- header -->
            <header class="pc-header">
                <img src="/static/ams_logo/ams_logo_white.png" class="header-ams-icon" @click="window.location.href = '/'">
                <div class="pc-header-top">
                    <!-- not small display only -->
                    <div @click="rebootConfirm = true" class="reboot-button" v-if="!isSmallDisplay">reboot</div>
                    <!-- small display only -->
                    <!-- hamburger menu icon -->
                    <div class="humberger-icon-box" v-if="isSmallDisplay">
                        <div class="btn-trigger" id="hamburger-menu" @click="hamburgerMenuShow = !hamburgerMenuShow"
                            :class="{ active: hamburgerMenuShow }">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
                <nav class="pc-header-bottom" v-if="!isSmallDisplay">
                    <div class="header-nav header-nav-device" @click="selectedPage = 'Devices'; selectedPageStatus = 'main'" v-bind:class="{ 'active-device' : selectedPage == 'Devices' }"><p>Device</p></div>
                    <div class="header-nav header-nav-sensor" @click="selectedPage = 'Sensors'; selectedPageStatus = 'main'" v-bind:class="{ 'active-sensor' : selectedPage == 'Sensors' }"><p>Sensor</p></div>
                    <div class="header-nav header-nav-camera" @click="selectedPage = 'Camera'; selectedPageStatus = 'main'" v-bind:class="{ 'active-camera' : selectedPage == 'Camera' }"><p>Camera</p></div>
                    <div class="header-nav header-nav-setting" @click="selectedPage = 'Setting'; selectedPageStatus = 'main'" v-bind:class="{ 'active-setting' : selectedPage == 'Setting' }"><p>Setting</p></div>
                </nav>
            </header>
            <!-- header end -->

            <!-- hamburger menu -->
            <transition name="slide-translate-display">
                <div v-if="hamburgerMenuShow" class="hamburger-menu-content-wrapper">
                    <nav class="hamburger-menu-content">
                        <ul>
                            <li @click="selectedPage = 'Devices'; hamburgerMenuShow = !hamburgerMenuShow; selectedPageStatus = 'main'" class="hamburger-menu-text-device"><img class="hamburger-menu-content-icon" src="/static/icon/nav/nav_device.png"><p>Device</p></li>
                            <li @click="selectedPage = 'Sensors'; hamburgerMenuShow = !hamburgerMenuShow; selectedPageStatus = 'main'" class="hamburger-menu-text-sensor"><img class="hamburger-menu-content-icon" src="/static/icon/nav/nav_sensor.png"><p>Sensor</p></li>
                            <li @click="selectedPage = 'Camera'; hamburgerMenuShow = !hamburgerMenuShow; selectedPageStatus = 'main'" class="hamburger-menu-text-camera"><img class="hamburger-menu-content-icon" src="/static/icon/nav/nav_camera.png"><p>Camera</p></li>
                            <li @click="selectedPage = 'Setting'; hamburgerMenuShow = !hamburgerMenuShow; selectedPageStatus = 'main'" class="hamburger-menu-text-setting"><img class="hamburger-menu-content-icon" src="/static/icon/nav/nav_setting.png"><p>Setting</p></li>
                            <li @click="hamburgerMenuShow = !hamburgerMenuShow; rebootConfirm = true" class="hamburger-menu-text-reboot"><img class="hamburger-menu-content-icon" src="/static/icon/nav/nav_reboot.png"><p>Reboot</p></li>
                        </ul>
                    </nav>
                </div>
            </transition>
            <!-- hamburger menu end -->

            <!-- spinner start -->
            <transition name="fade-translate-display">
                <div class="translate-display" v-show="loading">
                    <div class="spinner-box">
                        <div class="flower-spinner">
                            <div class="dots-container">
                                <div class="bigger-dot">
                                    <div class="smaller-dot"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </transition>
            <!-- spinner end -->

            <!-- reboot confirm modal -->
            <div class="modal-display" v-show="rebootConfirm" @click.self="rebootConfirm = false">
                <div class="modal-box">
                    <div class="reboot-confirm-box">
                        <img src="/static/icon/x.png" class="modal-close-x-icon" @click="rebootConfirm = false">
                        <img src="/static/icon/alert.png" class="modal-alert-icon">
                        <h3>Confirmation</h3>
                        <hr>
                        <div class="small-space-box"></div>
                        <p class="modal-confirm-text">Are you sure to reboot AMS?</p>
                        <div class="small-space-box"></div>
                        <div class="button-container button-container-right">
                            <div class="button-wrapper">
                                <div class="modal-cancel-button" @click="rebootConfirm = false">
                                    <p>Cancel</p>
                                </div>
                            </div>
                            <div class="button-wrapper">
                                <div class="dangerous-button" @click="reboot()">
                                    <p>Reboot</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <div v-if="selectedPage == 'Devices'">
                <!-- Device -->

                <!-- update device modal start -->
                <div class="modal-display" v-show="updateModal" @click.self="closeUpdateDeviceModal">
                    <div class="modal-box update-device-responsive">
                        <div class="device-update-confirm-box">
                            <img src="/static/icon/x.png" class="modal-close-x-icon" @click="closeUpdateDeviceModal">
                            <img src="/static/icon/update.png" class="modal-update-icon">
                            <h3 class="modal-title">Update Device</h3>
                            <hr>

                            <div class="device-scroll-box">
                                <!-- forms -->
                                <div class="modal-form-container">
                                    <!-- Name -->
                                    <div class="cp_iptxt">
                                        <input class="ef" type="text" placeholder="" v-model="selectedDevice.name">
                                        <label>Name</label>
                                        <span class="focus_line"></span>
                                    </div>

                                    <!-- Description -->
                                    <div class="cp_form">
                                        <textarea required="required" v-model="selectedDevice.description" cols="20" rows="2"></textarea>
                                        <label class="cp_label" for="textarea">Description</label>
                                        <i class="bar"></i>
                                    </div>
                                </div>

                                <!-- Device type -->
                                <div class="modal-select-container">
                                    <label class="select-label">Device type</label>
                                    <div class="select-box select-box-simple device-update-modal-select-box">
                                        <select name="device_type" v-model="selectedDevice.type">
                                            <option value="" hidden>Choose</option>
                                            <option v-for="deviceType of deviceTypes" v-bind:value="deviceType.deviceType">
                                                {{ deviceType.deviceType }}</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Device run type -->
                                <div class="modal-select-container">
                                    <label class="select-label">Device Run type</label>
                                    <div class="select-box select-box-simple device-update-modal-select-box">
                                        <select name="run_type" v-model="selectedDevice.run_type">
                                            <option value="" hidden>Choose</option>
                                            <option v-for="deviceRunType of deviceRunTypes" v-bind:value="deviceRunType">{{deviceRunType}}</option>
                                        </select>
                                    </div>
                                </div>


                                <div>
                                    <table class="update-form-table" v-if="selectedDevice.run_type == 'daily'">
                                        <!-- daily -->
                                        <tr>
                                            <td>
                                                <div class="timer-label-box">
                                                    <p>On time</p>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="timer-box">
                                                    <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                        <select name="on_hour" v-model="selectedDevice.options.timer.on_hour">
                                                            <option value="" hidden>Choose</option>
                                                            <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">{{hour | zeroPadding}}</option>
                                                        </select>
                                                    </div>
                                                    <p class="timer-colon">:</p>
                                                    <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                        <select name="on_minite" v-model="selectedDevice.options.timer.on_minute">
                                                            <option value="" hidden>Choose</option>
                                                            <option v-for="minute in [...Array(60).keys()]" :key="minute" :value="minute">{{minute | zeroPadding}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="timer-label-box">
                                                    <p>Off time</p>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="timer-box">
                                                    <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                        <select name="off_hour" v-model="selectedDevice.options.timer.off_hour">
                                                            <option value="" hidden>Choose</option>
                                                            <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">{{hour | zeroPadding}}</option>
                                                        </select>
                                                    </div>
                                                    <p class="timer-colon">:</p>
                                                    <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                        <select name="off_minite" v-model="selectedDevice.options.timer.off_minute">
                                                            <option value="" hidden>Choose</option>
                                                            <option v-for="minute in [...Array(60).keys()]" :key="minute" :value="minute">{{minute | zeroPadding}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                    <div v-else-if="selectedDevice.run_type == 'discreate'">
                                        <!-- discreate -->
                                        <table class="update-form-table" >
                                            <tr v-for="(timer, index) of selectedDevice.options.timer" :key="index">
                                                <td>
                                                    <div class="timer-label-box">
                                                        <p>timer {{index + 1}}</p>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="timer-box">
                                                        <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="hour" v-model="timer.hour">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">{{hour| zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                        <p class="timer-colon">:</p>
                                                        <div class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="minite" v-model="timer.minute">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="minute in [...Array(60).keys()]" :key="minute" :value="minute">{{minute | zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <img src="/static/icon/delete.png" @click="selectedDevice.options.timer.splice(index, 1)" class="delete-icon">
                                                </td>
                                            </tr>
                                        </table>
                                        <img src="/static/img/button/add_button.png" @click="selectedDevice.options.timer.push({hour: 0, minute: 0})" class="add-button">
                                    </div>
                                </div>

                            </div>

                        </div>

                        <div class="device-update-modal-bottom-container">
                            <table class="update-form-created-at-table">
                                <tr>
                                    <td>crearted at:</td>
                                    <td>{{selectedDevice.created_at}}</td>
                                </tr>
                                <tr>
                                    <td>updated at:</td>
                                    <td>{{selectedDevice.updated_at}}</td>
                                </tr>
                            </table>
                            <div class="button-container">
                                <div class="button-wrapper">
                                    <div class="modal-cancel-button" @click="closeUpdateDeviceModal()">
                                        <p>Cancel</p>
                                    </div>
                                </div>
                                <div class="button-wrapper">
                                    <div class="modal-update-button" @click="updateDevice()">
                                        <p>Update</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- update device modal end -->





                <!-- Device -->

                <!-- Device main page -->
                <div v-if="selectedPageStatus == 'main'">

                    <div @click="selectedPageStatus = 'setting'" class="setting-button device-dark-color device-dark-color-shadow">
                        <p>
                            Devices Setting
                        </p>
                    </div>

                    <div class="device-container" v-for="(device, i) of devices" :key="device.device_id">
                        <div class="device-top-box">
                            <div class="device-id-box">
                                <p>Device ID: {{ device.device_id }}</p>
                            </div>
                            <img src="/static/icon/update3.png" class="container-update-icon" @click="clickUpdateDeviceButton(device)">
                            <img src="/static/icon/dustbox.png" class="container-delete-icon">
                        </div>
                        <div class="device-middle-box">
                            <img :src="deviceTypes_temp[device.type].iconUrl" class="device-icon" :class="{'device-icon-feed-pump-responsive': device.type == 'feed_pump'}">
                            <div class="device-name-box" :class="{'device-name-feed-pump-responsive': device.type == 'feed_pump'}"><p>{{ device.name }}</p></div>
                            <div v-if="device.type == 'feed_pump'" class="device-control-box device-control-box-responsive-feed-pump">
                                <!-- feed pump -->
                                <div class="device-switch-box">
                                    <!-- feed pump select box -->
                                    <div class="device-select-box-box">
                                        <div class="select-box select-box-simple select-box-flex">
                                            <select v-model="feedPumpsWaterSupplyTime[i]">
                                                <option v-for="j in [...Array(180).keys()]" :key="j" :value="j">{{j}}</option>
                                            </select>
                                        </div>
                                        <p class="select-box-flex select-box-second">[s]</p>
                                    </div>
                                    <!-- feed pump select box end -->
                                    <div class="feed-pump-button" @click="supplyWater(device.device_id, feedPumpsWaterSupplyTime[i])">supply</div>
                                </div>
                                <!-- feed pump end -->
                            </div>
                            <div v-else-if="device.type == 'auto_feeder'" class="device-control-box">
                                <!-- auto feeder -->
                                <div class="device-switch-box">
                                    <div class="feed-button" @click="feed(device.device_id)">feed</div>
                                </div>
                                <!-- auto feeder end -->
                            </div>
                            <div v-else class="device-control-box">
                                <!-- other -->
                                <div class="device-switch-box">
                                    <label class="switch" @click="updateDeviceState(device.device_id, !device.state)">
                                        <input type="checkbox" class="switch-input" v-model="device.state" disabled>
                                        <span class="switch-label" data-on="On" data-off="Off"></span>
                                        <span class="switch-handle"></span>
                                    </label>
                                </div>
                                <!-- other end -->
                            </div>
                        </div>
                    </div>
                    <!-- Device end -->

                    <br>
                </div>
                <div v-else-if="selectedPageStatus =='setting'">
                    <!-- Device setting page -->
                    <div @click="selectedPageStatus = 'main'" class="setting-button device-dark-color device-dark-color-shadow">
                        <p>
                            back
                        </p>
                    </div>
                    <!-- Device menu -->
                    <div class="setting-menu-container">
                        <!-- download -->
                        <a href="/device/backup"><img src="/static/icon/download_blue.png" class="container-update-icon"></a>
                        <!-- まだ使うかは未定 -->
                        <!-- <img src="/static/icon/download_blue.png" class="container-update-icon" @click="deviceBackupDownload"> -->
                        <!-- upload -->
                        <label>
                            <span>
                                <img src="/static/icon/upload_blue.png" class="container-update-icon">
                            </span>
                            <input type="file" id="device-backup-file-upload" style="display: none;" v-model="deviceBackupUploadFileName">
                        </label>
                    </div>
                    <!-- reboot confirm modal -->
                    <div class="modal-display" v-show="deviceBackupUploadConfirm" @click.self="deviceBackupUploadConfirmClose()">
                        <div class="modal-box">
                            <div class="reboot-confirm-box">
                                <img src="/static/icon/x.png" class="modal-close-x-icon" @click="deviceBackupUploadConfirmClose()">
                                <img src="/static/icon/upload_green.png" class="modal-alert-icon">
                                <h3>Import backup file</h3>
                                <hr>
                                <div class="small-space-box"></div>
                                <p class="modal-confirm-text">Are you sure to import this backup file?</p>
                                <div class="upload-json-confirm-box device-thin-color">
                                    <pre>{{ deviceBackupUploadFileData }}</pre>
                                </div>

                                <div class="small-space-box"></div>
                                <div class="button-container button-container-right">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="deviceBackupUploadConfirmClose()">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="modal-update-button" @click="deviceBackupUpload">
                                            <p>Import</p>
                                        </div>
                                    </div>
                                </div>
                    
                            </div>
                        </div>
                    </div>
                    <div class="setting-table-box">
                        <table border="1" class="setting-table setting-table-device">
                            <tr>
                                <th>device id</th>
                                <th>BCM</th>
                                <th>device name</th>
                                <th>device type</th>
                                <th>delete</th>
                            </tr>
                            <tr v-for="deviceSetting of devicesSetting" v-bind:value="deviceSetting.device_id">
                                <td>{{ deviceSetting.device_id }}</td>
                                <td>{{ deviceSetting.BCM }}</td>
                                <td v-if="Object.keys(deviceSetting.device).length != 0">{{ deviceSetting.device.name }}</td>
                                <td v-if="Object.keys(deviceSetting.device).length === 0" colspan="3"><div class="table-new-device-button" @click="clickCreateDeviceButton(deviceSetting.device_id)">Add new device</div></td>
                                <td v-if="Object.keys(deviceSetting.device).length != 0">{{ deviceSetting.device.type }}</td>
                                <td v-if="Object.keys(deviceSetting.device).length != 0">
                                    <img src="/static/icon/dustbox.png" class="container-delete-icon container-delete-icon-table-small" @click="deviceDeleteConfirmOpen(deviceSetting.device_id, deviceSetting.device)">
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="device-exchange-box">
                        <div class="exchange-box-top device-dark-color"><p>exchange</p></div>
                        <div class="device-exchange-box-bottom">
                            <div><p class="device-exchange-device-id">device_id</p></div>
                            <div class="device-exchange-box-bottom-select-wrapper">
                                <div>
                                    <p class="device-exchange-box-select-label">from</p>
                                </div>
                                <div>
                                    <select name="device_id" v-model="exchangeFrom">
                                        <option v-for="device_id in [...Array(devicesSetting.length).keys()]" :key="device_id" :value="device_id + 1">
                                            {{device_id + 1}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="device-exchange-box-bottom-select-wrapper">
                                <div>
                                    <p class="device-exchange-box-select-label">to</p>
                                </div>
                                <div>
                                    <select name="device_id" v-model="exchangeTo">
                                        <option v-for="device_id in [...Array(devicesSetting.length).keys()]" :key="device_id" :value="device_id + 1">
                                            {{device_id + 1}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-new-device-button" @click="deviceExchange">
                                exchange
                            </div>
                        </div>
                    </div>

                    <!-- create device modal start -->
                    <div class="modal-display" v-show="createModal" @click.self="closeCreateDeviceModal">
                        <div class="modal-box update-device-responsive">
                            <div class="device-update-confirm-box">
                                <img src="/static/icon/x.png" class="modal-close-x-icon" @click="closeCreateDeviceModal">
                                <img src="/static/icon/create.png" class="modal-update-icon">
                                <h3 class="modal-title">Create Device</h3>
                                <hr>
                    
                                <div class="device-scroll-box">
                                    <!-- forms -->
                                    <div class="modal-form-container">
                                        <!-- Name -->
                                        <div class="cp_iptxt">
                                            <input class="ef" type="text" placeholder="" v-model="selectedDevice.name">
                                            <label>Name</label>
                                            <span class="focus_line"></span>
                                        </div>
                    
                                        <!-- Description -->
                                        <div class="cp_form">
                                            <textarea required="required" v-model="selectedDevice.description" cols="20"
                                                rows="2"></textarea>
                                            <label class="cp_label" for="textarea">Description</label>
                                            <i class="bar"></i>
                                        </div>
                                    </div>
                    
                                    <!-- Device type -->
                                    <div class="modal-select-container">
                                        <label class="select-label">Device type</label>
                                        <div class="select-box select-box-simple device-update-modal-select-box">
                                            <select name="device_type" v-model="selectedDevice.type">
                                                <option value="" hidden>Choose</option>
                                                <option v-for="deviceType of deviceTypes" v-bind:value="deviceType.deviceType">
                                                    {{ deviceType.deviceType }}</option>
                                            </select>
                                        </div>
                                    </div>
                    
                                    <!-- Device run type -->
                                    <div class="modal-select-container">
                                        <label class="select-label">Device Run type</label>
                                        <div class="select-box select-box-simple device-update-modal-select-box">
                                            <select name="run_type" v-model="selectedDevice.run_type">
                                                <option value="" hidden>Choose</option>
                                                <option v-for="deviceRunType of deviceRunTypes" v-bind:value="deviceRunType">
                                                    {{deviceRunType}}</option>
                                            </select>
                                        </div>
                                    </div>
                    
                                    <div>
                                        <table class="update-form-table" v-if="selectedDevice.run_type == 'daily'">
                                            <!-- daily -->
                                            <tr>
                                                <td>
                                                    <div class="timer-label-box">
                                                        <p>On time</p>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="timer-box">
                                                        <div
                                                            class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="on_hour" v-model="selectedDevice.options.timer.on_hour">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">
                                                                    {{hour | zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                        <p class="timer-colon">:</p>
                                                        <div
                                                            class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="on_minite" v-model="selectedDevice.options.timer.on_minute">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="minute in [...Array(60).keys()]" :key="minute"
                                                                    :value="minute">{{minute | zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div class="timer-label-box">
                                                        <p>Off time</p>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="timer-box">
                                                        <div
                                                            class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="off_hour" v-model="selectedDevice.options.timer.off_hour">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">
                                                                    {{hour | zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                        <p class="timer-colon">:</p>
                                                        <div
                                                            class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                            <select name="off_minite" v-model="selectedDevice.options.timer.off_minute">
                                                                <option value="" hidden>Choose</option>
                                                                <option v-for="minute in [...Array(60).keys()]" :key="minute"
                                                                    :value="minute">{{minute | zeroPadding}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                        <div v-else-if="selectedDevice.run_type == 'discreate'">
                                            <!-- discreate -->
                                            <table class="update-form-table">
                                                <tr v-for="(timer, index) of selectedDevice.options.timer" :key="index">
                                                    <td>
                                                        <div class="timer-label-box">
                                                            <p>timer {{index + 1}}</p>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="timer-box">
                                                            <div
                                                                class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                                <select name="hour" v-model="timer.hour">
                                                                    <option value="" hidden>Choose</option>
                                                                    <option v-for="hour in [...Array(24).keys()]" :key="hour" :value="hour">
                                                                        {{hour| zeroPadding}}</option>
                                                                </select>
                                                            </div>
                                                            <p class="timer-colon">:</p>
                                                            <div
                                                                class="select-box select-box-simple select-box-timer device-update-modal-select-box">
                                                                <select name="minite" v-model="timer.minute">
                                                                    <option value="" hidden>Choose</option>
                                                                    <option v-for="minute in [...Array(60).keys()]" :key="minute"
                                                                        :value="minute">{{minute | zeroPadding}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <img src="/static/icon/delete.png"
                                                            @click="selectedDevice.options.timer.splice(index, 1)" class="delete-icon">
                                                    </td>
                                                </tr>
                                            </table>
                                            <img src="/static/img/button/add_button.png"
                                                @click="selectedDevice.options.timer.push({hour: 0, minute: 0})" class="add-button">
                                        </div>
                                    </div>
                    
                                </div>
                    
                            </div>
                    
                            <div class="device-update-modal-bottom-container">
                                <div class="button-container">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="closeCreateDeviceModal()">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="modal-update-button" @click="createDevice()">
                                            <p>Create</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    
                        </div>
                    </div>
                    <!-- create device modal end -->

                    <!-- delete device confirm modal -->
                    <div class="modal-display" v-show="deleteDeviceConfirm" @click.self="deviceDeleteConfirmClose">
                        <div class="modal-box">
                            <div class="reboot-confirm-box">
                                <img src="/static/icon/x.png" class="modal-close-x-icon" @click="deviceDeleteConfirmClose">
                                <img src="/static/icon/alert.png" class="modal-alert-icon">
                                <h3>Confirmation</h3>
                                <hr>
                                <div class="small-space-box"></div>
                                <p class="modal-confirm-text">Are you sure to delete {{selectedDevice.name}}?</p>
                                <div class="small-space-box"></div>
                                <div class="button-container button-container-right">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="deviceDeleteConfirmClose">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="dangerous-button" @click="deleteDevice()">
                                            <p>Delete</p>
                                        </div>
                                    </div>
                                </div>
                    
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <div v-else-if="selectedPage == 'Sensors'">
                <!-- --------------------------------------------------------------------- -->
                <!-- Sensor -->

                <!-- Sensor main page -->
                <div v-if="selectedPageStatus == 'main'">
                    <div @click="selectedPageStatus = 'setting'" class="setting-button sensor-dark-color sensor-dark-color-shadow">
                        <p>
                            Sensor Setting
                        </p>
                    </div>
                    <div class="sensor-data-last-updated-at-text-box">
                        <p class="sensor-data-last-updated-at-text">
                            Sensor data are updated at: {{ sensorDataLastUpdatedAt }}
                        </p>
                    </div>
                    <div v-for="(sensor, i) of sensors" :key="sensor.sensor_id">
                        <div class="sensor-container" v-if="!!Object.keys(sensor.sensor).length">
                            <div class="sensor-top-box">
                                <div class="sensor-id-box">
                                    <p>Sensor ID: {{ sensor.sensor_id }}</p>
                                </div>
                                <img src="/static/icon/calibration.png" class="container-update-icon" @click="clickUpdateSensorCalibrationButton(sensor)">
                                <img src="/static/icon/update3.png" class="container-update-icon" @click="clickUpdateSensorButton(sensor)">
                                <img src="/static/icon/dustbox.png" class="container-delete-icon">
                            </div>
                            <div class="sensor-middle-box">
                                <img :src="sensorTypes_temp[sensor.sensor.type].iconUrl" class="sensor-icon">
                                <div class="sensor-name-box">
                                    <p>{{ sensor.sensor.name }}</p>
                                </div>
                                <div class="sensor-value-box">
                                    <p class="sensor-value-unit-box">
                                        <span class="sensor-value">{{ sensor.value }}</span>
                                        <span class="sensor-unit">{{sensorTypes_temp[sensor.sensor.type].unit}}</span>                                    
                                    </p>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
                <div v-else-if="selectedPageStatus =='setting'">
                    <!-- Sensor setting page -->
                    <div @click="selectedPageStatus = 'main'" class="setting-button sensor-dark-color sensor-dark-color-shadow">
                        <p>
                            back
                        </p>
                    </div>
                    <!-- Setting menu -->
                    <div class="setting-menu-container">
                        <!-- download -->
                        <a href="/sensor/backup"><img src="/static/icon/download_orange.png" class="container-update-icon"></a>
                        <!-- upload -->
                        <label>
                            <span>
                                <img src="/static/icon/upload_orange.png" class="container-update-icon">
                            </span>
                            <input type="file" id="sensor-backup-file-upload" style="display: none;" v-model="sensorBackupUploadFileName">
                        </label>
                    </div>
                    <!-- sensor backup upload confirm modal -->
                    <div class="modal-display" v-show="sensorBackupUploadConfirm" @click.self="sensorBackupUploadConfirmClose()">
                        <div class="modal-box">
                            <div class="reboot-confirm-box">
                                <img src="/static/icon/x.png" class="modal-close-x-icon" @click="sensorBackupUploadConfirmClose()">
                                <img src="/static/icon/upload_green.png" class="modal-alert-icon">
                                <h3>Import backup file</h3>
                                <hr>
                                <div class="small-space-box"></div>
                                <p class="modal-confirm-text">Are you sure to import this backup file?</p>
                                <div class="upload-json-confirm-box sensor-thin-color">
                                    <pre>{{ sensorBackupUploadFileData }}</pre>
                                </div>
                    
                                <div class="small-space-box"></div>
                                <div class="button-container button-container-right">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="sensorBackupUploadConfirmClose()">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="modal-update-button" @click="sensorBackupUpload">
                                            <p>Import</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-table-box">
                        <table border="1" class="setting-table setting-table-sensor">
                            <tr>
                                <th>sensor id</th>
                                <th>sensor name</th>
                                <th>sensor type</th>
                                <th>delete</th>
                            </tr>
                            <tr v-for="sensorSetting of sensorsSetting" v-bind:value="sensorSetting.sensor_id">
                                <td>{{ sensorSetting.sensor_id }}</td>
                                <td v-if="Object.keys(sensorSetting.sensor).length != 0">{{ sensorSetting.sensor.name }}</td>
                                <td v-if="Object.keys(sensorSetting.sensor).length === 0" colspan="3">
                                    <div class="table-new-device-button" @click="clickCreateSensorButton(sensorSetting.sensor_id)">Add new
                                        sensor</div>
                                </td>
                                <td v-if="Object.keys(sensorSetting.sensor).length != 0">{{ sensorSetting.sensor.type }}</td>
                                <td v-if="Object.keys(sensorSetting.sensor).length != 0">
                                    <img src="/static/icon/dustbox.png" class="container-delete-icon container-delete-icon-table-small"
                                        @click="sensorDeleteConfirmOpen(sensorSetting.sensor_id, sensorSetting.sensor)">
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="device-exchange-box">
                        <div class="exchange-box-top sensor-dark-color">
                            <p>exchange</p>
                        </div>
                        <div class="device-exchange-box-bottom">
                            <div>
                                <p class="device-exchange-device-id">sensor_id</p>
                            </div>
                            <div class="device-exchange-box-bottom-select-wrapper">
                                <div>
                                    <p class="device-exchange-box-select-label">from</p>
                                </div>
                                <div>
                                    <select name="sensor_id" v-model="exchangeFrom">
                                        <option v-for="sensor_id in [...Array(sensorsSetting.length).keys()]" :key="sensor_id"
                                            :value="sensor_id + 1">
                                            {{sensor_id + 1}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="device-exchange-box-bottom-select-wrapper">
                                <div>
                                    <p class="device-exchange-box-select-label">to</p>
                                </div>
                                <div>
                                    <select name="sensor_id" v-model="exchangeTo">
                                        <option v-for="sensor_id in [...Array(sensorsSetting.length).keys()]" :key="sensor_id"
                                            :value="sensor_id + 1">
                                            {{sensor_id + 1}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-new-device-button" @click="sensorExchange">
                                exchange
                            </div>
                        </div>
                    </div>

                    <!-- delete sensor confirm modal -->
                    <div class="modal-display" v-show="deleteSensorConfirm" @click.self="sensorDeleteConfirmClose">
                        <div class="modal-box">
                            <div class="reboot-confirm-box">
                                <img src="/static/icon/x.png" class="modal-close-x-icon" @click="sensorDeleteConfirmClose">
                                <img src="/static/icon/alert.png" class="modal-alert-icon">
                                <h3>Confirmation</h3>
                                <hr>
                                <div class="small-space-box"></div>
                                <p class="modal-confirm-text">Are you sure to delete {{selectedSensor.sensor.name}}?</p>
                                <div class="small-space-box"></div>
                                <div class="button-container button-container-right">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="sensorDeleteConfirmClose">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="dangerous-button" @click="deleteSensor()">
                                            <p>Delete</p>
                                        </div>
                                    </div>
                                </div>
                    
                            </div>
                        </div>
                    </div>
                </div>

                <!-- create sensor modal start -->
                <div class="modal-display" v-show="createSensorModal" @click.self="closeCreateSensorModal">
                    <div class="modal-box update-device-responsive">
                        <div class="update-confirm-box">
                            <img src="/static/icon/x.png" class="modal-close-x-icon" @click="closeCreateSensorModal">
                            <img src="/static/icon/create.png" class="modal-update-icon">
                            <h3 class="modal-title">Create Sensor</h3>
                            <hr>
                
                            <div class="sensor-scroll-box">
                                <!-- forms -->
                                <div class="modal-form-container">
                                    <!-- Name -->
                                    <div class="cp_iptxt">
                                        <input class="ef" type="text" placeholder="" v-model="selectedSensor.sensor.name">
                                        <label>Name</label>
                                        <span class="focus_line"></span>
                                    </div>
                
                                    <!-- Description -->
                                    <div class="cp_form">
                                        <textarea required="required" v-model="selectedSensor.sensor.description" cols="20"
                                            rows="2"></textarea>
                                        <label class="cp_label" for="textarea">Description</label>
                                        <i class="bar"></i>
                                    </div>
                                </div>
                
                                <!-- Sensor type -->
                                <div class="modal-select-container">
                                    <label class="select-label">Sensor type</label>
                                    <div class="select-box select-box-simple device-update-modal-select-box">
                                        <select name="sensor_type" v-model="selectedSensor.sensor.type">
                                            <option value="" hidden>Choose</option>
                                            <option v-for="sensorType of sensorTypes" v-bind:value="sensorType.sensorType">
                                                {{ sensorType.sensorType }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                
                        </div>
                
                        <div class="device-update-modal-bottom-container">
                            <div class="button-container">
                                <div class="button-wrapper">
                                    <div class="modal-cancel-button" @click="closeCreateSensorModal">
                                        <p>Cancel</p>
                                    </div>
                                </div>
                                <div class="button-wrapper">
                                    <div class="modal-update-button" @click="createSensor()">
                                        <p>Create</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                
                    </div>
                </div>
                <!-- create device modal end -->

                <!-- update sensor modal start -->
                <div class="modal-display" v-show="updateSensorModal" @click.self="closeUpdateSensorModal()">
                    <div class="modal-box">
                        <div class="update-confirm-box">
                            <img src="/static/icon/x.png" class="modal-close-x-icon" @click="closeUpdateSensorModal">
                            <img src="/static/icon/update.png" class="modal-update-icon">
                            <h3>Update sensor</h3>
                            <hr>
                            <div class="sensor-scroll-box">

                                <div class="modal-form-container">
                                    <div class="cp_iptxt">
                                        <input class="ef" type="text" placeholder="" v-model="selectedSensor.sensor.name">
                                        <label>Name</label>
                                        <span class="focus_line"></span>
                                    </div>
            
                                    <div class="cp_form">
                                        <textarea required="required" v-model="selectedSensor.sensor.description" name="error-message-format" cols="20"
                                            rows="2"></textarea>
                                        <label class="cp_label" for="textarea">Description</label>
                                        <i class="bar"></i>
                                    </div>
                                </div>

                                <div class="modal-select-container">
                                    <label class="select-label">Sensor type</label>
                                    <div class="select-box select-box-simple device-update-modal-select-box">
                                        <select name="sensor_type" v-model="selectedSensor.sensor.type">
                                            <option value="" hidden>Choose</option>
                                            <option v-for="sensorType of sensorTypes" v-bind:value="sensorType.sensorType">
                                                {{ sensorType.sensorType }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>


                            <div class="device-update-modal-bottom-container">
                                <table class="update-form-created-at-table">
                                    <tr>
                                        <td>crearted at:</td>
                                        <td>{{selectedSensor.sensor.created_at}}</td>
                                    </tr>
                                    <tr>
                                        <td>updated at:</td>
                                        <td>{{selectedSensor.sensor.updated_at}}</td>
                                    </tr>
                                </table>
                                <div class="button-container">
                                    <div class="button-wrapper">
                                        <div class="modal-cancel-button" @click="closeUpdateSensorModal()">
                                            <p>Cancel</p>
                                        </div>
                                    </div>
                                    <div class="button-wrapper">
                                        <div class="modal-update-button" @click="updateSensor()">
                                            <p>Update</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
                <!-- update sensor modal end -->

                <!-- update sensor calibration modal start -->
                <div class="modal-display" v-show="updateSensorCalibrationModal" @click.self="closeUpdateSensorCalibrationModal()">
                    <div class="modal-box">
                        <div class="update-confirm-box">
                            <img src="/static/icon/x.png" class="modal-close-x-icon" @click="closeUpdateSensorCalibrationModal()">
                            <img src="/static/icon/update.png" class="modal-update-icon">
                            <h3>Update sensor calibration</h3>
                            <hr>
                            <div style="margin-bottom: 20px;"></div>
                            <div class="vertical-scroll-table">
                                <table class="calibration-form-table">
                                    <thead>
                                        <tr>
                                            <th>
                                                <p>No.</p>
                                            </th>
                                            <th>
                                                <p>Raw</p>
                                            </th>
                                            <th>
                                                <p>Real</p>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tr v-for="(oneCalibrationData, index) of selectedSensor.sensor.calibration" v-bind:value="index">
                                        <td>
                                            <p>{{ index + 1 }}</p>
                                        </td>
                                        <td>
                                            <input type="number" v-model.number="oneCalibrationData[0]" class="calibration-number-form">
                                        </td>
                                        <td>
                                            <input type="number" v-model.number="oneCalibrationData[1]" class="calibration-number-form">
                                        </td>
                                        <td>
                                            <img src="/static/icon/delete.png" @click="selectedSensor.sensor.calibration.splice(index, 1)" class="delete-icon">
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 20px;"></div>

                            <table class="new-calibration-value-table">
                                <tr>
                                    <td>
                                        <p>Now</p>
                                    </td>
                                    <td>
                                        <p class="raw-sensor-value">
                                            {{selectedSensor.raw_value}}
                                        </p>
                                    </td>
                                    <td>
                                        <input type="number" v-model.number="selectedSensorNewCalibrationValue"  class="calibration-number-form more-small">
                                    </td>
                                    <td>
                                        <div class="add-new-calibration-button" @click="selectedSensor.sensor.calibration.push([selectedSensor.raw_value, selectedSensorNewCalibrationValue])">
                                            <p>Add</p>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <div class="calibration-update-button" @click="updateCalibration()">
                                <p>Update</p>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
            <div v-else-if="selectedPage == 'Setting'">
                <!-- Setting -->
                
                <div class="setting-form">
                
                    <h2 class="setting-head">Local</h2>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.TANK_ID">
                        <label>Tank id</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.CLIENT_ID">
                        <label>Client id</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.ROOT_PATH">
                        <label>AMS root path</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.LOCAL_SERVER.PORT">
                        <label>Local server port</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.MAX_DEVICE_NUMBER">
                        <label>Max device number</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.MAX_SENSOR_NUMBER">
                        <label>Max sensor number</label>
                        <span class="focus_line"></span>
                    </div>
                
                    <br>
                
                    <h2 class="setting-head">MQTT <img src="/static/icon/cloud_network.png" class="setting-head-icon"></h2>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.MQTT.MQTT_BROKER">
                        <label>Broker Address</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.MQTT.MQTT_BROKER_PORT">
                        <label>Broker Port</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.MQTT.MQTT_BROKER_USERNAME">
                        <label>Broker UserName</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="password" placeholder="" v-model="setting.MQTT.MQTT_BROKER_PASSWORD">
                        <label>Broker Password</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.MQTT.KEEPALIVE">
                        <label>Broker Keepalive</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.MQTT.SUBSCRIBER_QOS">
                        <label>Subscribe QoS</label>
                        <span class="focus_line"></span>
                    </div>
                
                    <br>
                
                    <h2 class="setting-head">Slack <img src="/static/img/slack_icon.png" class="setting-head-icon"></h2>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.WEBHOOK_URL">
                        <label>Webhook URL</label>
                        <span class="focus_line"></span>
                    </div>
                
                    <h3 class="setting-sub-head">Error <img src="/static/icon/error.png" class="setting-sub-head-icon"></h3>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.ERROR.CHANNEL">
                        <label>Channel</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.ERROR.USERNAME">
                        <label>UserName</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.ERROR.ICON_EMOJI">
                        <label>Icon Emoji</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_form">
                        <textarea required="required" v-model="setting.SLACK.ERROR.MESSAGE_FORMAT" name="error-message-format" cols="30"
                            rows="4"></textarea>
                        <label class="cp_label" for="textarea">Message format</label>
                        <i class="bar"></i>
                    </div>

                    <br>
                
                    <h3 class="setting-sub-head">Notification <img src="/static/icon/notification.png" class="setting-sub-head-icon"></h3>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.NOTIFICATION.CHANNEL">
                        <label>Channel</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.NOTIFICATION.USERNAME">
                        <label>UserName</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="text" placeholder="" v-model="setting.SLACK.NOTIFICATION.ICON_EMOJI">
                        <label>Icon Emoji</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_form">
                        <textarea required="required" v-model="setting.SLACK.NOTIFICATION.MESSAGE_FORMAT"
                            name="notification-message-format" cols="30" rows="4"></textarea>
                        <label class="cp_label" for="textarea">Message format</label>
                        <i class="bar"></i>
                    </div>
                
                    <br>
                
                    <h2 class="setting-head">Sensing <img src="/static/icon/sensor.png" class="setting-head-icon"></h2>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.SENSING.SENSOR_DATA_PUBLISH_PERIOD">
                        <label>Sensor data publish period</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.SENSING.SENSING_NUMBER">
                        <label>Sensing number</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.SENSING.WEB_SENSOR_DATA_POLLING_PERIOD">
                        <label>Sensor data polling period</label>
                        <span class="focus_line"></span>
                    </div>
                
                    <br>
                
                    <h2 class="setting-head">Device <img src="/static/icon/device.png" class="setting-head-icon"></h2>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.DEVICE.AUTO_FEEDER_RUN_TIME">
                        <label>Auto feeder run time</label>
                        <span class="focus_line"></span>
                    </div>
                    <div class="cp_iptxt">
                        <input class="ef" type="number" placeholder="" v-model.number="setting.DEVICE.FEED_PUMP_DEFAULT_TIME">
                        <label>Feed pump default time</label>
                        <span class="focus_line"></span>
                    </div>
                
                    <div class="small-space-box"></div>
                    
                    <div class="centering-wrapper">
                        <div class="setting-update-button" @click="updateSetting()">
                            <p>Update setting</p>
                        </div>
                    </div>

                    <div class="medium-space-box"></div>
                
                </div>
                
                </div>
            <div v-else>
                <h1>Unknown Page</h1>
            </div>

    </main>
    </div>


    <style>

        .device-dark-color {
            background: #1A229CAA;
        }
        .device-thin-color {
            background: #00aaff22;
        }
        .device-dark-color-shadow {
            box-shadow: 5px 5px 15px 0 #1A229CAA;
        }

        .device-container {
            margin: auto;
            margin-bottom: 40px;
            width: 700px;
            background: #FFFFFF;
            box-shadow: 10px 10px 20px 0 rgba(60, 194, 235, 0.2);
            border-radius: 20px;
            border: 1px solid rgba(60, 194, 235, 0.3);
        }
        @media screen and (max-width: 480px) {
            .device-container {
                width: 92%;
                border-radius: 10px;
            }
        }

        .device-top-box {
            display: flex;
            justify-content: flex-end;
            position: relative;
            margin-top: 4px;
            /* background: orange; */
        }
        .device-id-box {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #999;
            font-size: 20px;
        }

        .device-middle-box {
            display: flex;
            /* justify-content: flex-start; */
            justify-content: space-between;
            position: relative;
            margin-top: 4px;
            /* background: orange; */
        }
        .device-icon {
            height: 80px;
            margin: 6px;
            margin-left: 30px;
            margin-bottom: 10px;
        }
        @media screen and (max-width: 480px) {
            .device-icon {
                height: 40px;
                margin-left: 20px;
            }
            .device-icon-feed-pump-responsive {
                margin-top: 18px;
            }
        }
        .device-name-box {
            margin: auto;
            margin-top: 20px;
            text-align: center;
            font-size: 45px;
            color: #1A229C;
            text-shadow: 
                0px 0px 5px #ffffff,
                0px 0px 20px #1A229C11,
                0px 0px 40px #1A229C11,
                0px 0px 60px rgb(52, 59, 153, 0.3),
                0px 0px 80px rgb(52, 59, 153, 0.3);
        }
        @media screen and (max-width: 480px) {
            .device-name-box {
                margin-top: 17px;
                font-size: 27px;
            }
            .device-name-feed-pump-responsive {
                margin-top: 28px;
            }
        }

        /*  device control box */
        .device-control-box {
            margin-right: 30px;
            width: 110px;
            height: 120px;
            /* background: orange; */
        }
        @media screen and (max-width: 480px) {
            .device-control-box {
                width: 50px;
                height: 70px;
            }
            /* only feed pump */
            .device-control-box-responsive-feed-pump {
                width: 70px;
                height: 110px;
            }
        }

        .device-switch-box {
            margin-top: 32px;
        }
        @media screen and (max-width: 480px) {
            .device-switch-box {
                margin-top: 20px;
            }
        }

        .device-select-box-box {
            margin-top: -40px;
            margin-bottom: -15px;
            display: flex;
            height: 100px;
        }
        @media screen and (max-width: 480px) {
            .device-select-box-box {
                margin-top: -40px;
                margin-left: -13px;
            }
        }
        .select-box-flex {
            justify-content: space-around;
        }
        .select-box-second {
            margin: auto;
            margin-left: 10px;
            font-size: 20px;
            color: #444;
        }
        @media screen and (max-width: 480px) {
            .select-box-second {
                margin-left: -5px;
                margin-right: -25px;
                font-size: 12px;
            }
        }

        /* feed button */
        .feed-button {
            cursor: pointer;
            display: inline-block;
            padding: 8px 28px;
            text-decoration: none;
            color: white;
            background: #4fb845;
            border-radius: 17px;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
            transition: 0.3s;
        }
        @media screen and (max-width: 480px) {
            .feed-button {
                padding: 4px 14px;
            }
        }
        .feed-button:hover{
            background: #73db69;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
        }
        .feed-button p {
            font-size: 16px;
            margin: 3px 0px;
        }
        @media screen and (max-width: 480px) {
            .feed-button p {
                font-size: 10px;
            }
        }

        /* feed pump button */
        .feed-pump-button {
            cursor: pointer;
            display: inline-block;
            margin-bottom: 15px;
            margin-top: -20px;

            padding: 8px 24px;
            text-decoration: none;
            color: white;
            background: #4fb845;
            border-radius: 17px;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
            transition: 0.3s;
        }
        @media screen and (max-width: 480px) {
            .feed-pump-button {
                padding: 4px 12px;
                margin-left: 7px;
            }
        }
        .feed-pump-button:hover{
            background: #73db69;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
        }
        .feed-pump-button p {
            font-size: 16px;
            margin: 3px 0px;
        }
        @media screen and (max-width: 480px) {
            .feed-pump-button p {
                font-size: 10px;
            }
        }

        /* table new device button */
        .table-new-device-button {
            cursor: pointer;
            display: inline-block;
            padding: 3px 20px;
            text-decoration: none;
            color: white;
            background: #4fb845;
            border-radius: 10px;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
            transition: 0.3s;
        }
        @media screen and (max-width: 480px) {
            .table-new-device-button {
                padding: 4px 14px;
            }
        }
        .table-new-device-button:hover{
            background: #73db69;
            box-shadow: 5px 5px 10px 0 #4fb845A0;
        }
        .table-new-device-button p {
            font-size: 10px;
            margin: 0;
        }
        @media screen and (max-width: 480px) {
            .table-new-device-button p {
                font-size: 10px;
            }
        }






        /* sensor */

        .sensor-dark-color {
            background: #e07f00;
        }
        .sensor-thin-color {
            background: #e07f0017;
        }
        .sensor-dark-color-shadow {
            box-shadow: 5px 5px 15px 0 #e07f00AA;
        }

        .sensor-data-last-updated-at-text-box {
            text-align: center;
            margin: auto;
            margin-bottom: 20px;
        }
        .sensor-data-last-updated-at-text {
            font-size: 20px;
            color: #555;
        }
        @media screen and (max-width: 480px) {
            .sensor-data-last-updated-at-text-box {
                margin-top: -15px;
            }
            .sensor-data-last-updated-at-text {
                font-size: 15px;
            }
        }

        .sensor-container {
            margin: auto;
            margin-bottom: 40px;
            width: 700px;
            background: #FFFFFF;
            box-shadow: 10px 10px 20px 0 #e07f0033;
            border-radius: 20px;
            border: 1px solid #e07f0055;
        }
        @media screen and (max-width: 480px) {
            .sensor-container {
                width: 92%;
                border-radius: 10px;
            }
        }

        .sensor-top-box {
            display: flex;
            justify-content: flex-end;
            position: relative;
            margin-top: 4px;
        }
        .sensor-id-box {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #999;
            font-size: 20px;
        }

        .sensor-middle-box {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-top: 4px;
        }

        .sensor-icon {
            height: 80px;
            margin: 6px;
            margin-left: 30px;
            margin-bottom: 10px;
        }
        @media screen and (max-width: 480px) {
            .sensor-icon {
                height: 40px;
                margin-left: 20px;
            }
        }

        .sensor-name-box {
            margin: auto;
            margin-top: 20px;
            text-align: center;
            font-size: 45px;
            color: rgb(158, 61, 0);
            text-shadow: 
                0px 0px 5px #ffffff,
                0px 0px 20px #1A229C11,
                0px 0px 40px #1A229C11,
                0px 0px 60px #e07f0055,
                0px 0px 80px #e07f0055;
        }
        @media screen and (max-width: 480px) {
            .sensor-name-box {
                margin-top: 17px;
                font-size: 27px;
            }
        }

        .sensor-value-box {
            width: 200px;
            text-align: center;
        }
        .sensor-value-unit-box {
            line-height: 100px;
            color: rgb(47, 188, 0);
        }
        .sensor-value {
            font-size: 45px;
        }
        .sensor-unit {
            font-size: 20px;
        }

        @media screen and (max-width: 480px) {
            .sensor-value-box {
                width: 100px;
                text-align: center;
            }

            .sensor-value-unit-box {
                line-height: 50px;
                color: rgb(47, 188, 0);
            }

            .sensor-value {
                font-size: 24px;
            }
            .sensor-unit {
                font-size: 12px;
            }
        }


        .sensor-scroll-box {
            overflow-y: scroll;
            margin-top: 30px;
            margin-bottom: 20px;
            height: 400px;
        }
        @media screen and (max-width: 480px) { 
            .sensor-scroll-box {
                margin-top: 20px;
                height: 270px;
            }
        }









        .container-update-icon {
            width: 30px;
            height: 30px;
            transition: 0.2s;
            margin: 5px;
            margin-right: 8px;
        }
        .container-update-icon:hover {
            opacity: 0.7;
            cursor: pointer;
        }
        .container-delete-icon {
            width: 30px;
            height: 30px;
            transition: 0.2s;
            margin: 5px;
            margin-right: 15px;
        }
        .container-delete-icon:hover {
            opacity: 0.7;
            cursor: pointer;
        }
        .container-delete-icon-table-small {
            width: 20px;
            height: 20px;
            margin: 0;
        }
    </style>


    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js"></script>


    <script>
        const getDateTime = timestamp => {
            let dateTime = new Date(timestamp * 1000);
            return `${dateTime.getFullYear()}/${dateTime.getMonth() + 1}/${dateTime.getDate()} ${dateTime.toLocaleTimeString()}`
        }

        const getDevices = async () => {
            res = await axios.get('/devices')
            return res.data
        };

        const getDeviceState = async () => {
            res = await axios.get('/devices/state')
            return res.data
        };

        const getSensors = async () => {
            res = await axios.get('/sensors');
            return res.data
        }

        const getSensorsSetting = async () => {
            // getSensorsと同じ
            res = await axios.get('/sensors')
            return res.data
        };

        const rebootRequest = async () => {
            await axios.get('/reboot')
        };

        const getSetting = async() => {
            res = await axios.get('/setting')
            return res.data
        };

        const setSetting = async (setting) => {
            await axios.post('/setting', setting)
        }

        const deviceControl = async (deviceId, nextState) => {
            await axios.post('/device/control', {
                devices: [
                    {
                        device_id: deviceId,
                        state: nextState,
                    }
                ]
            });
        }

        const supplyWaterRequest = async (deviceId, waterSupplyTime) => {
            await axios.post(`/device/control/feed_pump/${deviceId}`, {
                water_supply_time: waterSupplyTime,
            })
        };

        const feedRequest = async (deviceId) => {
            await axios.post(`/device/control/auto_feeder/${deviceId}`, {});
        }

        const createDeviceRequest = async createdDevice => {
            console.log(createdDevice)
            await axios.post('/device/create', {
                device_id: createdDevice.device_id,
                name: createdDevice.name,
                description: createdDevice.description,
                type: createdDevice.type,
                run_type: createdDevice.run_type,
                options: createdDevice.options,
            });
        }
        
        const updateDeviceRequest = async updatedDevice => {
            console.log(updatedDevice)
            await axios.post('/device/update', {
                device_id: updatedDevice.device_id,
                name: updatedDevice.name,
                description: updatedDevice.description,
                type: updatedDevice.type,
                run_type: updatedDevice.run_type,
                options: updatedDevice.options,
            });
        }

        const deleteDeviceRequest = async deleteDeviceId => {
            await axios.delete(`/device/delete/${deleteDeviceId}`); 
        };

        const deviceExchangeRequest = async devicesOrder => {
            await axios.post('/device/exchange', {
                devices: devicesOrder,
            });
        };

         const createSensorRequest = async createdSensor => {
            console.log(createdSensor)
            await axios.post('/sensor/create', {
                sensor_id: createdSensor.sensor_id,
                name: createdSensor.sensor.name,
                description: createdSensor.sensor.description,
                type: createdSensor.sensor.type,
            });
        }

        const sensorExchangeRequest = async sensorsOrder => {
            await axios.post('/sensor/exchange', {
                sensors: sensorsOrder,
            });
        };

        const deleteSensorRequest = async deleteSensoreId => {
            await axios.delete(`/sensor/delete/${deleteSensoreId}`); 
        };

        // TODO まだ使うかは未定
        const deviceBackupDownloadRequest = async () => {
            const response = await axios.get('/device/backup')
            console.log(response)
            const json = response.data
            let link = document.createElement('a')
            link.href = `data:application/json,${json.blob}`
            link.download = json.name
            link.click()
        };

        const deviceBackupUploadRequest = async backupFile => {
            console.log(backupFile)
            await axios.post('/device/backup', JSON.parse(backupFile))
        }

        const sensorBackupUploadRequest = async backupFile => {
            console.log(backupFile)
            await axios.post('/sensor/backup', JSON.parse(backupFile))
        }

        const updateSensorRequest = async updatedSensor => {
            await axios.post('/sensor/update', {
                sensor_id: updatedSensor.sensor_id,
                name: updatedSensor.sensor.name,
                description: updatedSensor.sensor.description,
                type: updatedSensor.sensor.type,
            });
        }

        const updateSensorCalibrationRequest = async (sensorId, calibration) => {
            await axios.post(`/sensor/calibration/update/${sensorId}`, {calibration});
        };

        var app = new Vue({
            el: '#app',
            data: {
                isSmallDisplay: false,
                hamburgerMenuShow: false,
                selectedPage: "Devices",
                selectedPageStatus: "main",
                hasError: false,
                loading: false,
                updateModal: false,
                createModal: false,
                createSensorModal: false,
                updateSensorModal: false,
                updateSensorCalibrationModal: false,
                rebootConfirm: false,
                deleteDeviceConfirm: false,
                deleteSensorConfirm: false,
                deviceBackupUploadConfirm: false,
                sensorBackupUploadConfirm: false,
                devices: [],
                devicesSetting: [],
                deviceBackupUploadFileName: '',
                deviceBackupUploadFileData: '',
                sensors: [],
                sensorsSetting: [],
                sensorBackupUploadFileName: '',
                sensorBackupUploadFileData: '',
                sensorDataLastUpdatedAt: '',
                sensorDataPollingPeriod: 5,
                feedPumpsWaterSupplyTime: [],
                selectedDevice: {
                    run_type: ""
                },
                selectedSensor: {
                    sensor: {}
                },
                exchangeFrom: 0,
                exchangeTo: 0,
                selectedSensorNewCalibrationValue: 10,
                deviceTypes: [
                    {
                        deviceType: "main_light",
                    },
                    {
                        deviceType: "sub_light",
                    },
                    {
                        deviceType: "air_pump",
                    },
                    {
                        deviceType: "co2",
                    },
                    {
                        deviceType: "feed_pump",
                    },
                    {
                        deviceType: "wave_pump",
                    },
                    {
                        deviceType: "auto_feeder",
                    },
                    {
                        deviceType: "protein_skimmer",
                    },
                    {
                        deviceType: "filter",
                    },
                ],
                deviceTypes_temp: {
                    main_light: {
                        iconUrl: "/static/icon/device/light.png",
                    },
                    sub_light: {
                        iconUrl: "/static/icon/device/light.png",
                    },
                    air_pump: {
                        iconUrl: "/static/icon/device/air.png",
                    },
                    co2: {
                        iconUrl: "/static/icon/device/air.png",
                    },
                    feed_pump: {
                        iconUrl: "/static/icon/device/feed_pump.png",
                    },
                    wave_pump: {
                        iconUrl: "/static/icon/device/wave.png",
                    },
                    auto_feeder: {
                        iconUrl: "/static/icon/device/feed.png",
                    },
                    protein_skimmer: {
                        iconUrl: "/static/icon/device/protain_skimmer.png",
                    },
                    filter: {
                        iconUrl: "/static/icon/device/filter.png",
                    },
                },
                sensorTypes: [
                    {
                        sensorType: "water_temperature"
                    },
                    {
                        sensorType: "illuminance"
                    },
                    {
                        sensorType: "water_level"
                    },
                    {
                        sensorType: "sub_tank_water_level"
                    },
                    {
                        sensorType: "room_temperature"
                    },
                    {
                        sensorType: "room_humidity"
                    },
                    {
                        sensorType: "salinity"
                    },
                    {
                        sensorType: "water_flow_rate"
                    },
                    {
                        sensorType: "ph"
                    },
                ],
                sensorTypes_temp: {
                    water_temperature: {
                        iconUrl: "/static/icon/sensor/temperature.png",
                        unit: "℃",
                    },
                    illuminance: {
                        iconUrl: "/static/icon/sensor/light_level.png",
                        unit: "",
                    },
                    water_level: {
                        iconUrl: "/static/icon/sensor/water_level.png",
                        unit: "cm",
                    },
                    sub_tank_water_level: {
                        iconUrl: "/static/icon/sensor/water_level.png",
                        unit: "cm",
                    },
                    room_temperature: {
                        iconUrl: "/static/icon/sensor/temperature.png",
                        unit: "℃",
                    },
                    room_humidity: {
                        iconUrl: "/static/icon/sensor/humidity.png",
                        unit: "%",
                    },
                    salinity: {
                        iconUrl: "/static/icon/sensor/salinity.png",
                        unit: "",
                    },
                    water_flow_rate: {
                        iconUrl: "/static/icon/sensor/water_flow_rate.png",
                        unit: "",
                    },
                    ph: {
                        iconUrl: "/static/icon/sensor/ph.png",
                        unit: "",
                    },
                },
                deviceRunTypes: [
                    "daily",
                    "discreate",
                    "continuous",
                ],
                setting: {},
            },
            methods: {
                handleResize: function () {
                    if (window.innerWidth <= 480) {
                        this.isSmallDisplay = true
                    } else {
                        this.isSmallDisplay = false
                    }
                },
                setDeviceState: async function () {
                    this.loading = true
                    const deviceState = await getDeviceState()
                    this.loading = false

                    this.devices = deviceState
                },
                supplyWater: async function(deviceId, feedPumpsWaterSupplyTime) {
                    this.loading = true
                    await supplyWaterRequest(deviceId, feedPumpsWaterSupplyTime)
                    this.loading = false
                },
                feed: async function(deviceId) {
                    this.loading = true
                    await feedRequest(deviceId);
                    this.loading = false
                },
                updateDeviceState: async function (deviceId, nextState) {
                    if (!this.loading) {
                        this.loading = true
                        await deviceControl(deviceId, nextState)
                        await this.setDeviceState()
                    }
                },
                createDevice: async function () {
                    this.loading = true
                    const deviceState = await createDeviceRequest(this.selectedDevice);
                    this.closeUpdateDeviceModal();
                    // TODO not reset
                    window.location.href = '/'
                },
                updateDevice: async function () {
                    this.loading = true
                    const deviceState = await updateDeviceRequest(this.selectedDevice);
                    this.closeUpdateDeviceModal();
                    // TODO not reset
                    window.location.href = '/'
                },
                deviceDeleteConfirmOpen: async function(device_id, deviceSetting) {
                    this.deleteDeviceConfirm = true; 
                    this.selectedDevice = {
                        device_id: device_id,
                        name: deviceSetting.name,
                    };
                },
                deviceDeleteConfirmClose: async function() {
                    this.deleteDeviceConfirm = false; 
                    this.selectedDevice = {
                        run_type: "",
                    };
                },
                deleteDevice: async function() {
                    await deleteDeviceRequest(this.selectedDevice.device_id);
                    // TODO not reset
                    this.deviceDeleteConfirmClose();
                    window.location.href = '/'
                },
                deviceExchange: async function() {
                    const devicesOrder = [...Array(this.devicesSetting.length).keys()].map(v => v+1);
                    // e.g. devicesOrder = [1, 2, 3, 4, 5, 6]
                    const exchangeFrom = this.exchangeFrom;
                    const exchangeTo = this.exchangeTo;

                    // validation
                    if (exchangeFrom * exchangeTo === 0) {
                        alert('Please select device id.')
                        return
                    }
                    if (exchangeFrom === exchangeTo) {
                        alert('Same device id can not exchange.')
                        return
                    }

                    // exchange
                    devicesOrder.splice(exchangeTo - 1, 1, exchangeFrom);
                    devicesOrder.splice(exchangeFrom - 1, 1, exchangeTo);

                    this.loading = true;
                    await deviceExchangeRequest(devicesOrder);
                    this.loading = false;

                    window.location.href = '/';
                },
                sensorExchange: async function() {
                    const sensorsOrder = [...Array(this.sensorsSetting.length).keys()].map(v => v+1);
                    // e.g. sensorsOrder = [1, 2, 3, 4, 5, 6]
                    const exchangeFrom = this.exchangeFrom;
                    const exchangeTo = this.exchangeTo;

                    // validation
                    if (exchangeFrom * exchangeTo === 0) {
                        alert('Please select sensor id.')
                        return
                    }
                    if (exchangeFrom === exchangeTo) {
                        alert('Same sensor id can not exchange.')
                        return
                    }

                    // exchange
                    sensorsOrder.splice(exchangeTo - 1, 1, exchangeFrom);
                    sensorsOrder.splice(exchangeFrom - 1, 1, exchangeTo);

                    this.loading = true;
                    await sensorExchangeRequest(sensorsOrder);
                    this.loading = false;

                    window.location.href = '/';
                },
                deviceBackupDownload: async function() {
                    this.loading = true;
                    await deviceBackupDownloadRequest();
                    this.loading = false;
                },
                deviceBackupUploadConfirmClose: function() {
                    this.deviceBackupUploadConfirm = false;
                    this.deviceBackupUploadFileName = '';
                    this.deviceBackupUploadFileData = '';
                },
                deviceBackupUpload: async function() {
                    await deviceBackupUploadRequest(this.deviceBackupUploadFileData)
                    window.location.href = '/'

                },
                updateSensor: async function () {
                    this.loading = true
                    const sensorState = await updateSensorRequest(this.selectedSensor);
                    this.closeUpdateSensorModal();
                    // TODO not reset
                    window.location.href = '/'
                },
                updateCalibration: async function() {
                    this.loading = true
                    const sensor_id = this.selectedSensor.sensor_id;
                    const calibration = this.selectedSensor.sensor.calibration;

                    await updateSensorCalibrationRequest(sensor_id, calibration);
                    this.loading = false
                    this.closeUpdateSensorCalibrationModal();
                },
                clickUpdateDeviceButton: function (selectedDevice) {
                    this.updateModal = true;
                    this.selectedDevice = JSON.parse(JSON.stringify(selectedDevice));
                    // unix timestamp -> readable date
                    this.selectedDevice.created_at = getDateTime(this.selectedDevice.created_at)
                    this.selectedDevice.updated_at = getDateTime(this.selectedDevice.updated_at)
                },
                clickCreateDeviceButton: function (device_id) {
                    this.selectedDevice = {
                        device_id: device_id,
                        name: '',
                        description: '',
                        type: 'main_light',
                        run_type: 'daily',
                        options: {
                            timer: {
                                on_hour: 10,
                                on_minute: 0,
                                off_hour: 19,
                                off_minute: 0,
                            }
                        },
                    };
                    this.createModal = true;
                },
                clickCreateSensorButton: function (sensor_id) {
                    this.selectedSensor = {
                        sensor_id: sensor_id,
                        sensor: {
                            name: '',
                            description: '',
                            type: 'water_temperature',
                        }
                    };
                    this.createSensorModal = true;
                },
                createSensor: async function () {
                    this.loading = true
                    const deviceState = await createSensorRequest(this.selectedSensor);
                    this.closeCreateSensorModal();
                    // TODO not reset
                    window.location.href = '/'
                },
                sensorDeleteConfirmOpen: async function (sensor_id, sensorSetting) {
                    this.deleteSensorConfirm = true;
                    this.selectedSensor = {
                        sensor_id: sensor_id,
                        sensor: {
                            name: sensorSetting.name,
                        }
                    };
                    console.log(this.selectedSensor)
                },
                sensorDeleteConfirmClose: async function () {
                    this.deleteSensorConfirm = false;
                    this.selectedSensor = {
                        sensor: {},
                    };
                },
                deleteSensor: async function () {
                    await deleteSensorRequest(this.selectedSensor.sensor_id);
                    // TODO not reset
                    this.sensorDeleteConfirmClose();
                    window.location.href = '/'
                },
                sensorExchange: async function () {
                    const sensorsOrder = [...Array(this.sensorsSetting.length).keys()].map(v => v + 1);
                    // e.g. sensorsOrder = [1, 2, 3, 4, 5, 6]
                    const exchangeFrom = this.exchangeFrom;
                    const exchangeTo = this.exchangeTo;

                    // validation
                    if (exchangeFrom * exchangeTo === 0) {
                        alert('Please select sensor id.')
                        return
                    }
                    if (exchangeFrom === exchangeTo) {
                        alert('Same sensor id can not exchange.')
                        return
                    }

                    // exchange
                    sensorsOrder.splice(exchangeTo - 1, 1, exchangeFrom);
                    sensorsOrder.splice(exchangeFrom - 1, 1, exchangeTo);

                    this.loading = true;
                    await sensorExchangeRequest(sensorsOrder);
                    this.loading = false;

                    window.location.href = '/';
                },
                sensorBackupDownload: async function () {
                    this.loading = true;
                    await sensorBackupDownloadRequest();
                    this.loading = false;
                },
                sensorBackupUploadConfirmClose: function () {
                    this.sensorBackupUploadConfirm = false;
                    this.sensorBackupUploadFileName = '';
                    this.sensorBackupUploadFileData = '';
                },
                sensorBackupUpload: async function () {
                    await sensorBackupUploadRequest(this.sensorBackupUploadFileData)
                    window.location.href = '/'

                },
                closeUpdateDeviceModal: function () {
                    this.updateModal = false;
                    this.selectedDevice = {
                        run_type: "",
                    };
                },
                closeCreateDeviceModal: function () {
                    this.createModal = false;
                    this.selectedDevice = {
                        run_type: "",
                    };
                },
                closeCreateSensorModal: function () {
                    this.createSensorModal = false;
                    this.selectedSensor = {
                        sensor: {}
                    };
                },
                clickUpdateSensorButton: function (selectedSensor) {
                    this.updateSensorModal = true;
                    this.selectedSensor = JSON.parse(JSON.stringify(selectedSensor));
                    // unix timestamp -> readable date
                    this.selectedSensor.sensor.created_at = getDateTime(this.selectedSensor.sensor.created_at)
                    this.selectedSensor.sensor.updated_at = getDateTime(this.selectedSensor.sensor.updated_at)
                },
                clickUpdateSensorCalibrationButton: function (selectedSensor) {
                    this.updateSensorCalibrationModal = true;
                    this.selectedSensor = JSON.parse(JSON.stringify(selectedSensor));
                },
                closeUpdateSensorModal: function () {
                    this.updateSensorModal = false;
                    this.selectedSensor = {
                        sensor: {}
                    };
                },
                closeUpdateSensorCalibrationModal: function() {
                    this.updateSensorCalibrationModal = false;
                    this.selectedSensor = {
                        sensor: {}
                    };
                },
                reboot: async function() {
                    this.rebootConfirm = false;
                    this.loading = true;
                    await rebootRequest();
                },
                updateSetting: async function() {
                    this.loading = true;
                    await setSetting(this.setting);
                    this.loading = false;
                },
                setSensorValue: function() {

                    const getSensorValue = function() {
                        axios.get('/sensors/value')
                            .then(function (res) {
                                const sensorValues = res.data.sensors;
                                this.sensorDataLastUpdatedAt = getDateTime(res.data.timestamp);
                                
                                // set sensor value by sensor_id
                                for (sensorData of sensorValues) {
                                    for (let i = 0; i < this.sensors.length; i++) {
                                        // set sensor data to sensors
                                        if (this.sensors[i].sensor_id === sensorData.sensor_id) {
                                            this.sensors[i].value = sensorData.value;
                                            this.sensors[i].raw_value = sensorData.raw_value;
                                        }
                                        // set sensor data to selected sensor
                                        // if selected sensor is not {}
                                        if (!!Object.keys(this.selectedSensor).length) {
                                            if (this.selectedSensor.sensor_id === sensorData.sensor_id) {
                                                this.selectedSensor.raw_value = sensorData.raw_value;
                                                this.selectedSensor.value = sensorData.value;
                                            }
                                        }
                                    }
                                }

                            }.bind(this));
                    }.bind(this)

                    // Run the first time immediately
                    getSensorValue();
                    
                    setInterval(function() {
                        getSensorValue()
                    }.bind(this), this.sensorDataPollingPeriod * 1000);
                    // TODO 5000 -> interval * 1000
                }
            },
            watch: {
                'selectedDevice.run_type': function (val, oldVal) {
                    if (!this.deviceRunTypes.includes(oldVal)) {
                        return;
                    }
                    switch (val) {
                        case "discreate":
                            this.selectedDevice.options = {
                                timer: [],
                            }
                            break;
                        case "daily":
                            this.selectedDevice.options.timer = {
                                on_hour: 10,
                                on_minute: 0,
                                off_hour: 19,
                                off_minute: 0,
                            };
                            break;
                        case "continuous":
                            this.selectedDevice.options = {};
                            break;
                    }
                },
                deviceBackupUploadFileName: function (val, oldVal) {
                    if (!this.deviceBackupUploadFileName) {
                        return;
                    }
                    console.log(val);
                    this.deviceBackupUploadConfirm = true;

                    const files = document.getElementById('device-backup-file-upload').files;
                    if (files.length <= 0) {
                        return false;
                    }

                    const fr = new FileReader();

                    fr.onload = e => {
                        const result = JSON.parse(e.target.result);
                        const formatted = JSON.stringify(result, null, 2);
                        this.deviceBackupUploadFileData = formatted;
                    }
                    fr.readAsText(files.item(0));
                },
                sensorBackupUploadFileName: function (val, oldVal) {
                    if (!this.sensorBackupUploadFileName) {
                        return;
                    }
                    console.log(val);
                    this.sensorBackupUploadConfirm = true;

                    const files = document.getElementById('sensor-backup-file-upload').files;
                    if (files.length <= 0) {
                        return false;
                    }

                    const fr = new FileReader();

                    fr.onload = e => {
                        const result = JSON.parse(e.target.result);
                        const formatted = JSON.stringify(result, null, 2);
                        this.sensorBackupUploadFileData = formatted;
                    }
                    fr.readAsText(files.item(0));
                },
            },
            mounted: async function () {

                this.loading = true
                const [deviceState, devicesSetting, sensors, sensorsSetting, setting] = await Promise.all([
                    getDeviceState(),
                    getDevices(),
                    getSensors(),
                    getSensorsSetting(),
                    getSetting(),
                ])
                this.loading = false

                this.devices = deviceState;
                this.devicesSetting = devicesSetting;
                this.sensorsSetting = sensorsSetting;
                this.sensors = sensors.map(sensor => {
                    sensor.value = 0;
                    return sensor;
                });
                this.setting = setting;
                this.sensorDataPollingPeriod = this.setting.SENSING.WEB_SENSOR_DATA_POLLING_PERIOD;
                this.feedPumpsWaterSupplyTime = new Array(deviceState.length).fill(this.setting.DEVICE.FEED_PUMP_DEFAULT_TIME);

                this.setSensorValue();
            },
            filters: {
                num: function(value) {
                    return Number(value)
                },
                zeroPadding: function(n) {
                    let result = String(n)
                    if (n < 10) {
                        result = "0" + result;
                    }
                    return result
                }
            },
            created() {
                window.addEventListener('resize', this.handleResize)
                this.handleResize()
            },
            destroyed() {
                window.removeEventListener('resize', this.handleResize)
            }
        })
    </script>


    <!-- header -->
    <style>
        body {
            padding-top: 150px;
        }
        @media screen and (max-width: 480px) {
            body {
                padding-top: 100px;
            }
        }

        .pc-header {
            background: #BBBBBBDD;
            height:　180px;
            width: 100%;
            color: #FFFFFF;
            position: fixed;
            display: flex;
            flex-direction: column;
            top: 0px;
            z-index: 2;
        }

        .pc-header:before {
            -webkit-filter: blur(5px);
            -moz-filter: blur(5px);
            -o-filter: blur(5px);
            -ms-filter: blur(5px);
            filter: blur(5px);
        }

        .header-ams-icon {
            height: 70px;
            position: absolute;
            top: 10px;
            left: 10px;
            cursor: pointer;
            transition: 0.1s;
        }
        @media screen and (max-width: 480px) {
            .header-ams-icon {
                top: 6px;
                left: 8px;
                height: 43px;
            }
        }
        .header-ams-icon:hover {
            opacity: 0.5;
        }

        .pc-header-top {
            display: flex;
            justify-content: flex-end;
        }

        .pc-header-top-content {   
        }

        /* reboot button */
        .reboot-button {
            cursor: pointer;
            display: inline-block;
            margin-bottom: 25px;
            margin-top: 10px;
            margin-right: 15px;
            padding: 5px 24px;
            text-decoration: none;
            color: #AAA;
            background: #FFFFFF;
            border-radius: 17px;
            box-shadow: 5px 5px 20px 0 #44444466;
            transition: 0.3s;
        }
        .reboot-button:hover{
            box-shadow: 5px 5px 20px 0 #FF000066;
            color: #FF0000;
        }
        .reboot-button p {
            font-size: 16px;
            margin: 3px 0px;
        }


        .pc-header-bottom {
            padding: 0 180px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }


        .pc-header li {
            display: inline-block;
        }

        /* header navigation */
        .header-nav {
            cursor: pointer;
            width: 100%;
            display: block;
            transition: 0.2s;
            position: relative;
            font-size: 18px;
        }
        .header-nav:hover {
            background: #FFFFFFBB;
        }
        .header-nav p {
            text-align: center;
            line-height: 50px;
        }

        /* device */
        .header-nav-device{
            text-decoration: none;
            display: block;
        }
        .header-nav-device:hover{
            color: #00aaff;
        }
        .header-nav-device:after {
            content: '';
            width: 0;
            transition: all 0.3s ease;
            border-bottom: 3px solid #00aaff;
            display: block;
        }
        .header-nav-device:hover:after {
            width: 100%;
        }
        .active-device {
            background: #FFFFFFD4;
            color: #00aaff;
        }

        /* sensor */
        .header-nav-sensor{
            text-decoration: none;
            display: block;
        }
        .header-nav-sensor:hover{
            color: #e07f00;
        }
        .header-nav-sensor:after {
            content: '';
            width: 0;
            transition: all 0.3s ease;
            border-bottom: 3px solid #e07f00;
            display: block;
        }
        .header-nav-sensor:hover:after {
            width: 100%;
        }
        .active-sensor {
            background: #FFFFFFD4;
            color: #e07f00;
        }

        /* camera */
        .header-nav-camera{
            text-decoration: none;
            display: block;
        }
        .header-nav-camera:hover{
            color: #ae00ff;
        }
        .header-nav-camera:after {
            content: '';
            width: 0;
            transition: all 0.3s ease;
            border-bottom: 3px solid #ae00ff;
            display: block;
        }
        .header-nav-camera:hover:after {
            width: 100%;
        }
        .active-camera {
            background: #FFFFFFD4;
            color: #ae00ff;
        }

        /* setting */
        .header-nav-setting{
            text-decoration: none;
            display: block;
        }
        .header-nav-setting:hover{
            color: #00c25e;
        }
        .header-nav-setting:after {
            content: '';
            width: 0;
            transition: all 0.3s ease;
            border-bottom: 3px solid #00c25e;
            display: block;
        }
        .header-nav-setting:hover:after {
            width: 100%;
        }   
        .active-setting {
            background: #FFFFFFD4;
            color: #00c25e;
        }


        /* smart phone header */

        .humberger-icon-box {
            padding: 7px;
            padding-right: 10px;
        }

        /* hamburger */
        .btn-trigger {
            position: relative;
            width: 40px;
            height: 36px;
            cursor: pointer;
        }
        .btn-trigger span {
            position: absolute;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #FFF;
            border-radius: 4px;
        }
        .btn-trigger, .btn-trigger span {
            display: inline-block;
            transition: all .5s;
            box-sizing: border-box;
        }
        .btn-trigger span:nth-of-type(1) {
            top: 0;
        }
        .btn-trigger span:nth-of-type(2) {
            top: 16px;
        }
        .btn-trigger span:nth-of-type(3) {
            bottom: 0;
        }

        #hamburger-menu.active {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
        #hamburger-menu.active span:nth-of-type(1) {
            -webkit-transform: translateY(16px) rotate(-45deg);
            transform: rotateY(16px) rotate(-45deg);
        }
        #hamburger-menu.active span:nth-of-type(2) {
            -webkit-transform: translateY(0) rotate(45deg);
            transform: rotateY(0) rotate(45deg);
        }
        #hamburger-menu.active span:nth-of-type(3) {
            opacity: 0;
        }
        /* hamburger end */

        /* hamburger transition start */
        .slide-translate-display-enter-active {
        transition: all .4s ease;
        }
        .slide-translate-display-leave-active {
        /* transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0); */
        transition: all .4s ease;
        }
        .slide-translate-display-enter, .slide-translate-display-leave-to {
        transform: translateX(400px);
        opacity: 0;
        }
        /* hamburger transition end */
         
        /* hamburger content */
        .hamburger-menu-content-wrapper {
            background-color: #FFFFFFF0;
            border: solid 1px #AAA;
            position: fixed;
            top: 57px;
            right: 0;
            width: 90%;
            text-align: center;
            border-radius: 10px 0 0 10px;
            z-index: 1;
        }
        .hamburger-menu-content li {
            height: 60px;
            padding: 10px 0;
            border-bottom: solid 1px #AAA;
            font-size: 30px;
            cursor: pointer;
        }
        .hamburger-menu-content li:last-child {
            border-bottom: solid 0 #AAA;
        }
        
        .hamburger-menu-content-icon {
            height: 30px;
            margin-right: 8px;
        }

        .hamburger-menu-text-device {
            color: #00AAFF;
            /* border-bottom: solid 1px #00AAFF; */
        }
        .hamburger-menu-text-sensor {
            color: #e07f00;
        }
        .hamburger-menu-text-camera {
            color: #ae00ff;
        }
        .hamburger-menu-text-setting {
            color: #00c25e;
        }
        .hamburger-menu-text-reboot {
            color: #FF4444;
        }

    </style>




    <style>
        .switch {
            position: relative;
            display: inline-block;
            vertical-align: top;
            width: 84px;
            height: 30px;
            padding: 4.5px;
            background-color: white;
            border-radius: 18px;
            box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            background-image: -webkit-linear-gradient(top, #eeeeee, white 25px);
            background-image: -moz-linear-gradient(top, #eeeeee, white 25px);
            background-image: -o-linear-gradient(top, #eeeeee, white 25px);
            background-image: linear-gradient(to bottom, #eeeeee, white 25px);
        }
        @media screen and (max-width: 480px) {
            .switch {
                width: 56px;
                height: 20px;
                padding: 3px;
            }
        }

        .switch-input {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
        }

        .switch-label {
            position: relative;
            display: block;
            height: inherit;
            font-size: 15px;
            text-transform: uppercase;
            background: #eceeef;
            border-radius: inherit;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);
            -webkit-transition: 0.15s ease-out;
            -moz-transition: 0.15s ease-out;
            -o-transition: 0.15s ease-out;
            transition: 0.15s ease-out;
            -webkit-transition-property: opacity background;
            -moz-transition-property: opacity background;
            -o-transition-property: opacity background;
            transition-property: opacity background;
        }
        @media screen and (max-width: 480px) {
            .switch-label {
                font-size: 10px;
            }
        }

        .switch-label:before,
        .switch-label:after {
            position: absolute;
            top: 50%;
            margin-top: -.5em;
            line-height: 1;
            -webkit-transition: inherit;
            -moz-transition: inherit;
            -o-transition: inherit;
            transition: inherit;
        }

        .switch-label:before {
            content: attr(data-off);
            right: 11px;
            color: #aaa;
            text-shadow: 0 1px rgba(255, 255, 255, 0.5);
        }

        .switch-label:after {
            content: attr(data-on);
            left: 11px;
            color: white;
            text-shadow: 0 1px rgba(0, 0, 0, 0.2);
            opacity: 0;
        }

        .switch-input:checked~.switch-label {
            background: #4fb845;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);
        }

        .switch-input:checked~.switch-label:before {
            opacity: 0;
        }

        .switch-input:checked~.switch-label:after {
            opacity: 1;
        }

        .switch-handle {
            position: absolute;
            top: 6px;
            left: 6px;
            width: 27px;
            height: 27px;
            background: white;
            border-radius: 15px;
            box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
            background-image: -webkit-linear-gradient(top, white 40%, #f0f0f0);
            background-image: -moz-linear-gradient(top, white 40%, #f0f0f0);
            background-image: -o-linear-gradient(top, white 40%, #f0f0f0);
            background-image: linear-gradient(to bottom, white 40%, #f0f0f0);
            -webkit-transition: left 0.15s ease-out;
            -moz-transition: left 0.15s ease-out;
            -o-transition: left 0.15s ease-out;
            transition: left 0.15s ease-out;
        }
        @media screen and (max-width: 480px) {
            .switch-handle {
                top: 4px;
                left: 4px;
                width: 18px;
                height: 18px;
                border-radius: 10px;
            }
        }

        .switch-handle:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            margin: -6px 0 0 -6px;
            width: 12px;
            height: 12px;
            background: #f9f9f9;
            border-radius: 6px;
            box-shadow: inset 0 1px rgba(0, 0, 0, 0.02);
            background-image: -webkit-linear-gradient(top, #eeeeee, white);
            background-image: -moz-linear-gradient(top, #eeeeee, white);
            background-image: -o-linear-gradient(top, #eeeeee, white);
            background-image: linear-gradient(to bottom, #eeeeee, white);
        }

        .switch-input:checked~.switch-handle {
            left: 60px;
            box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);
        }
        @media screen and (max-width: 480px) {
            .switch-input:checked~.switch-handle {
                left: 40px;
            }
        }

        /* switch 初期 */
        /* .switch {
            position: relative;
            display: inline-block;
            vertical-align: top;
            width: 56px;
            height: 20px;
            padding: 3px;
            background-color: white;
            border-radius: 18px;
            box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            background-image: -webkit-linear-gradient(top, #eeeeee, white 25px);
            background-image: -moz-linear-gradient(top, #eeeeee, white 25px);
            background-image: -o-linear-gradient(top, #eeeeee, white 25px);
            background-image: linear-gradient(to bottom, #eeeeee, white 25px);
        }

        .switch-input {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
        }

        .switch-label {
            position: relative;
            display: block;
            height: inherit;
            font-size: 10px;
            text-transform: uppercase;
            background: #eceeef;
            border-radius: inherit;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);
            -webkit-transition: 0.15s ease-out;
            -moz-transition: 0.15s ease-out;
            -o-transition: 0.15s ease-out;
            transition: 0.15s ease-out;
            -webkit-transition-property: opacity background;
            -moz-transition-property: opacity background;
            -o-transition-property: opacity background;
            transition-property: opacity background;
        }

        .switch-label:before,
        .switch-label:after {
            position: absolute;
            top: 50%;
            margin-top: -.5em;
            line-height: 1;
            -webkit-transition: inherit;
            -moz-transition: inherit;
            -o-transition: inherit;
            transition: inherit;
        }

        .switch-label:before {
            content: attr(data-off);
            right: 11px;
            color: #aaa;
            text-shadow: 0 1px rgba(255, 255, 255, 0.5);
        }

        .switch-label:after {
            content: attr(data-on);
            left: 11px;
            color: white;
            text-shadow: 0 1px rgba(0, 0, 0, 0.2);
            opacity: 0;
        }

        .switch-input:checked~.switch-label {
            background: #4fb845;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);
        }

        .switch-input:checked~.switch-label:before {
            opacity: 0;
        }

        .switch-input:checked~.switch-label:after {
            opacity: 1;
        }

        .switch-handle {
            position: absolute;
            top: 4px;
            left: 4px;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 10px;
            box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
            background-image: -webkit-linear-gradient(top, white 40%, #f0f0f0);
            background-image: -moz-linear-gradient(top, white 40%, #f0f0f0);
            background-image: -o-linear-gradient(top, white 40%, #f0f0f0);
            background-image: linear-gradient(to bottom, white 40%, #f0f0f0);
            -webkit-transition: left 0.15s ease-out;
            -moz-transition: left 0.15s ease-out;
            -o-transition: left 0.15s ease-out;
            transition: left 0.15s ease-out;
        }

        .switch-handle:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            margin: -6px 0 0 -6px;
            width: 12px;
            height: 12px;
            background: #f9f9f9;
            border-radius: 6px;
            box-shadow: inset 0 1px rgba(0, 0, 0, 0.02);
            background-image: -webkit-linear-gradient(top, #eeeeee, white);
            background-image: -moz-linear-gradient(top, #eeeeee, white);
            background-image: -o-linear-gradient(top, #eeeeee, white);
            background-image: linear-gradient(to bottom, #eeeeee, white);
        }

        .switch-input:checked~.switch-handle {
            left: 40px;
            box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);
        } */

    </style>










    <!-- epic spinners -->
    <style>
        .translate-display {
            position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            z-index: 2;
            /* background: rgba(255, 255, 255, 0.8); */
        }

        .fade-translate-display-leave-active {
            transition: opacity .5s;
        }

        .fade-translate-display-leave-to {
            opacity: 0;
        }

        .spinner-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }


        .flower-spinner,
        .flower-spinner * {
            box-sizing: border-box;
        }

        .flower-spinner {
            height: 70px;
            width: 70px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }

        .flower-spinner .dots-container {
            height: calc(70px / 7);
            width: calc(70px / 7);
        }

        .flower-spinner .smaller-dot {
            background: rgb(0, 150, 220);
            height: 100%;
            width: 100%;
            border-radius: 50%;
            animation: flower-spinner-smaller-dot-animation 1.0s 0s infinite both;

        }

        .flower-spinner .bigger-dot {
            background: rgb(0, 150, 220);
            height: 100%;
            width: 100%;
            padding: 10%;
            border-radius: 50%;
            animation: flower-spinner-bigger-dot-animation 1.0s 0s infinite both;
        }

        @keyframes flower-spinner-bigger-dot-animation {

            0%,
            100% {
                box-shadow: rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px;
            }

            50% {
                transform: rotate(180deg);
            }

            25%,
            75% {
                box-shadow: rgb(0, 150, 220) 26px 0px 0px,
                    rgb(0, 150, 220) -26px 0px 0px,
                    rgb(0, 150, 220) 0px 26px 0px,
                    rgb(0, 150, 220) 0px -26px 0px,
                    rgb(0, 150, 220) 19px -19px 0px,
                    rgb(0, 150, 220) 19px 19px 0px,
                    rgb(0, 150, 220) -19px -19px 0px,
                    rgb(0, 150, 220) -19px 19px 0px;
            }

            100% {
                transform: rotate(360deg);
                box-shadow: rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px;
            }
        }

        @keyframes flower-spinner-smaller-dot-animation {

            0%,
            100% {
                box-shadow: rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px;
            }

            25%,
            75% {
                box-shadow: rgb(0, 150, 220) 14px 0px 0px,
                    rgb(0, 150, 220) -14px 0px 0px,
                    rgb(0, 150, 220) 0px 14px 0px,
                    rgb(0, 150, 220) 0px -14px 0px,
                    rgb(0, 150, 220) 10px -10px 0px,
                    rgb(0, 150, 220) 10px 10px 0px,
                    rgb(0, 150, 220) -10px -10px 0px,
                    rgb(0, 150, 220) -10px 10px 0px;
            }

            100% {
                box-shadow: rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px,
                    rgb(0, 150, 220) 0px 0px 0px;
            }
        }
    </style>





    <style>
        .modal-display {
            background: rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
        }

        .modal-box {
            background: white;
            width: 600px;
            height: auto;
            position: fixed;
            border-radius: 10px;
            text-align: center;
            z-index: 3;
        }
        @media screen and (max-width: 480px) {
            .modal-box {
                width: 90%;
            }
            .update-device-responsive {
                height: 510px;
            }
        }

        .modal-close-x-icon {
            position: absolute;
            right: 15px;
            top: 12px;
            width: 17px;
            cursor: pointer;
        }

        .modal-alert-icon {
            width: 70px;
            margin-bottom: -20px;
        }

        .modal-update-icon {
            width: 70px;
            margin-top: -15px;
            margin-bottom: -20px;
        }
        @media screen and (max-width: 480px) {
            .modal-update-icon {
                width: 50px;
            }
            .modal-title {
                font-size: 20px;
                margin-bottom: -1px;
            }
        }

        .update-form-table {
            margin: auto;
        }
        @media screen and (max-width: 480px) {
            .update-form-table {
                width: 95%;
            }
        }


        .update-form-created-at-table {
            margin: auto;
            font-size: 15px;
            color: #666;
        }
        .update-form-created-at-table td {
            padding: 5px;
        }
    </style>


    <style>
        .reboot-confirm-box {
            margin: 30px 15px;
            padding-bottom: 10px;
        }

        .update-confirm-box {
            margin: 30px 15px;
        }

        .device-update-confirm-box {
            margin: 30px 15px;
            height: 600px;
        }
        @media screen and (max-width: 480px) { 
            .device-update-confirm-box {
                height: 360px;
            }
        }

        .device-scroll-box {
            overflow-y: scroll;
            margin-top: 30px;
            margin-bottom: 20px;
            height: 450px;
        }
        @media screen and (max-width: 480px) { 
            .device-scroll-box {
                margin-top: 20px;
                height: 270px;
            }
        }

        .device-update-modal-bottom-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }
        @media screen and (max-width: 480px) { 
            .device-update-modal-bottom-container {
                flex-wrap: wrap;
                width: 100%;
                margin-top: -23px;
            }
        }
        .modal-confirm-text {
            font-size: 22px;
        }

        
    </style>


    <style>
        .setting-form {
            width: 70%;
            margin: auto;
            padding-left: 10%;
        }

        .setting-head {
            text-align: center;
            font-size: 35px;
            margin-left: -15%;
        }
        .setting-head-icon {
            width: 30px;
        }

        .setting-sub-head {
            text-align: center;
            font-size: 25px;
            margin-left: -15%;
        }
        .setting-sub-head-icon {
            width: 20px;
            margin-bottom: -3px;
        }

        .delete-icon {
            /* background: black; */
            width: 40px;
            margin-bottom: -20px;
            cursor: pointer;
        }

        .add-button {
            width: 60px;
            cursor: pointer;
            transition: .3s;
        }
        .add-button:hover {
            opacity: 0.7;
        }

        
    </style>

    <style>
        .small-space-box {
            margin-bottom: 50px;
        }

        .small-medium-space-box {
            margin-bottom: 80px;
        }

        .medium-space-box {
            margin-bottom: 220px;
        }
    </style>

    <style>

        /* button common */
        .button-container {
            margin: 10px;
            display: flex;
        }

        .button-wrapper {
            margin-right: 20px;
        }

        .button-container-right {
            justify-content: flex-end;
        }

        /* cancel button */
        .modal-cancel-button {
            cursor: pointer;
            display: inline-block;
            padding: 3px 30px;
            text-decoration: none;
            color: #999;
            border: solid 2px #999;
            border-radius: 5px;
            transition: 0.3s;
        }

        .modal-cancel-button:hover{
            color: #6cf;
            border: solid 2px #6cf;
        }

        .modal-cancel-button p {
            font-size: 1em;
            margin: 5px 0px;
        }


        /* dangerous button */
        .dangerous-button {
            cursor: pointer;
            display: inline-block;
            padding: 3px 30px;
            text-decoration: none;
            color: white;
            border: solid 2px #F00;
            background: #F00;
            border-radius: 5px;
            transition: 0.3s;
        }

        .dangerous-button:hover{
            border: solid 2px #A00;
            background: #A00;
        }

        .dangerous-button p {
            font-size: 1em;
            margin: 5px 0px;
        }


        /* update button */
        .modal-update-button {
            cursor: pointer;
            display: inline-block;
            padding: 3px 30px;
            text-decoration: none;
            color: white;
            border: solid 2px #00aa69;
            background: #00aa69;
            border-radius: 5px;
            transition: 0.3s;
        }

        .modal-update-button:hover{
            border: solid 2px #01ce7f;
            background: #01ce7f;
        }

        .modal-update-button p {
            font-size: 1em;
            margin: 5px 0px;
        }

        .centering-wrapper {
            text-align: center;
        }

        /* update setting button */
        .setting-update-button {
            cursor: pointer;
            margin-left: -15%;
            display: inline-block;
            padding: 5px 35px;
            text-decoration: none;
            color: white;
            border: solid 2px #00aa69;
            background: #00aa69;
            border-radius: 9px;
            transition: 0.3s;
        }

        .setting-update-button:hover{
            border: solid 2px #01ce7f;
            background: #01ce7f;
        }

        .setting-update-button p {
            font-size: 1.2em;
            margin: 5px 0px;
        }

        /* new calibration data button */
        .add-new-calibration-button {
            cursor: pointer;
            display: inline-block;
            padding: 0px 20px;
            text-decoration: none;
            color: white;
            border: solid 2px #0080ff;
            background: #0080ff;
            border-radius: 16px;
            transition: 0.3s;
        }

        .add-new-calibration-button:hover{
            border: solid 2px #41a0ff;
            background: #41a0ff;
        }

        .add-new-calibration-button p {
            font-size: 1.2em;
            margin: 5px 0px;
        }

        /* Calibration update button */
        .calibration-update-button {
            cursor: pointer;
            display: inline-block;
            padding: 5px 35px;
            text-decoration: none;
            color: white;
            border: solid 2px #00aa69;
            background: #00aa69;
            border-radius: 9px;
            transition: 0.3s;
        }

        .calibration-update-button:hover{
            border: solid 2px #01ce7f;
            background: #01ce7f;
        }

        .calibration-update-button p {
            font-size: 1.2em;
            margin: 5px 0px;
        }

        .setting-button {
            width: 700px;
            height: 50px;
            margin: auto;
            margin-bottom: 30px;
            border-radius: 25px;
            cursor: pointer;
            text-align: center;
            line-height: 50px;
            font-size: 30px;
            color: white;
            transition: .2s;
        }
        .setting-button:hover{
            opacity: 0.8;
        }
        @media screen and (max-width: 480px) { 
            .setting-button {
                width: 95%;
                height: 40px;
                font-size: 25px;
                line-height: 40px;
            }
        }

        .setting-menu-container {
            width: 700px;
            margin: auto;
            padding-top: 5px;
            padding-right: 30px;
            display: flex;
            justify-content: flex-end;
        }
        @media screen and (max-width: 480px) {
            .setting-menu-container {
                width: 95%;
            }
        }

        .upload-json-confirm-box {
            overflow-y: scroll;
            margin: auto;
            margin-top: 30px;
            margin-bottom: 20px;
            height: 300px;
            width: 95%;
            /* background-color: #00aaff10; */
            text-align: left;
        }

        .setting-table-box {
            width: 700px;
            margin: auto;
            padding-top: 30px;
        }
        @media screen and (max-width: 480px) {
            .setting-table-box {
                width: 95%;
                font-size: 12px;
                padding-top: 10px;
            }
        }

        .setting-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #ccc;
            line-height: 1.5;
            text-align: center;
        }

        .setting-table th {
            width: 150px;
            padding: 10px;
            font-weight: bold;
            vertical-align: top;
            color: #ffffff;
        }
        .setting-table td {
            width: 350px;
            padding: 10px;
            vertical-align: top;
        }

        .setting-table-device tr:nth-child(even) {
            background: #00AAFF11;
        }

        .setting-table-device th {
            background: #1A229CAA;
        }

        .setting-table-sensor th {
            background: #e07f00;
        }

        .setting-table-sensor tr:nth-child(even) {
            background: #e07f0017;
        }

        .device-exchange-box {
            width: 700px;
            margin: auto;
            margin-top: 30px;
            margin-bottom: 50px;
            display: flex;
            flex-direction: column;
            border: 1px solid #ccc;
        }
        @media screen and (max-width: 480px) {
            .device-exchange-box {
                width: 95%;
            }
            .device-exchange-device-id {
                margin-top: 4px;
                font-size: 14px;
            }
        }

        .exchange-box-top {
            padding: 10px;
            padding-left: 50px;
            font-weight: bold;
            color: white;
        }

        .device-exchange-box-bottom {
            background-color: white;
            display: flex;
            flex-direction: row;
            text-align: center;
            padding: 15px 0;
            justify-content: space-evenly;
        }

        .device-exchange-box-bottom-select-wrapper {
            display: flex;
            flex-direction: row;
        }

        .device-exchange-box-select-label {
            margin-right: 13px;
        }
        @media screen and (max-width: 480px) {
            .device-exchange-box-select-label {
                font-size: 10px;
                margin-right: 5px;
            }
        }
        
    </style>


    <!-- form -->
    <style>
        .cp_iptxt {
        position: relative;
        width: 80%;
        margin: 40px 3%;
        }
        .cp_iptxt input[type='text'], .cp_iptxt input[type='number'], .cp_iptxt input[type='password'] {
        font: 20px/30px sans-serif;
        box-sizing: border-box;
        width: 100%;
        letter-spacing: 1px;
        padding-left: 4em;
        }
        @media screen and (max-width: 480px) { 
            .cp_iptxt input[type='text'], .cp_iptxt input[type='number'], .cp_iptxt input[type='password'] {
                padding-left: 2em;
            }
        }

        .cp_iptxt input[type='password'] {
            font-weight: 900;
        }
        .cp_iptxt input[type='text'], .cp_iptxt input[type='number'], .cp_iptxt input[type='password']:focus {
        outline: none;
        }
        .ef {
        padding: 4px 0;
        border: 0;
        border-bottom: 2px solid #1b2538;
        background-color: transparent;
        }
        .ef ~ .focus_line {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        transition: 0.4s;
        background-color: #44ACF0;
        }
        .ef:focus ~ .focus_line,
        .cp_iptxt.ef ~ .focus_line {
        width: 100%;
        transition: 0.4s;
        }

        .ef ~ label {
        position: absolute;
        z-index: -1;
        top: -16px;
        font-size: 14px;
        font-weight: 400;
        left: 30px;
        width: 100%;
        transition: 0.1s;
        letter-spacing: 0.5px;
        color: #aaaaaa;
        }
        .ef:focus ~ label, .cp_iptxt.ef ~ label {
        transition: 0.1s;
        color: #44ACF0;
        }
    </style>


    <style>
        .cp_form {
            /* position: relative; */
            /* width: 60%; */
            position: relative;
        width: 80%;
        margin: 40px 3%;
        }

            .cp_form textarea　{
            font-family: inherit;
            }
            .cp_form textarea {
            resize: vertical;
            }

            .cp_form:focus {
            outline: none;
            border-bottom: 2px solid rgba(0,0,0, 0);
            }
            /* .cp_form {
            -webkit-appearance: none;
            appearance: none;
            }
             */

            .cp_form .cp_label {
            position: absolute;
            top: 0.25rem;
            pointer-events: none;
            padding-left: 0.125rem;
            top: -1rem;
            z-index: 1;
            left: 30px;
            color: #b3b3b3;
            font-size: 14px;
            font-weight: normal;
            -webkit-transition: all 0.2s ease;
            transition: all 0.2s ease;
            }
            .cp_form .bar {
            position: relative;
            /* border-bottom: 0.0625rem solid #000000; */
            border-bottom: 2px solid #000000;
            display: block;
            }
            .cp_form .bar::before {
            content: '';
            height: 0.125rem;
            /* height: 2px; */
            width: 0;
            left: 0;
            bottom: -2px;
            position: absolute;
            background: #44ACF0;
            -webkit-transition: left 0.4s ease, width 0.4s ease;
            transition: left 0.4s ease, width 0.4s ease;
            z-index: 2;
            }

            .cp_form textarea {
            display: block;
            background: none;
            padding: 0.125rem 0.125rem 2px;
            font-size: 1rem;
            border-width: 0;
            border-color: transparent;
            line-height: 1.9;
            width: 100%;
            color: transparent;
            -webkit-transition: all 0.4s ease;
            transition: all 0.4s ease;
            -webkit-box-shadow: none;
            box-shadow: none;
            }

            .cp_form textarea:focus,
            .cp_form textarea:valid {
            color: #333333;
            }

            .cp_form textarea:focus {
            outline: none;
            }

            .cp_form textarea:focus ~ .cp_label {
            color: #44ACF0;
            }

            .cp_form textarea:focus ~ .bar::before {
            width: 100%;
            left: 0;
            }




            .vertical-scroll-table{
                max-height: 300px;
                overflow: auto;
                overflow-x: hidden;
            }

            .vertical-scroll-table thead th {
                position: -webkit-sticky;
                position: sticky;
                top: 0;
                z-index: 1;
                background: white;
            }

            .calibration-form-table {
                border-collapse: separate;
                border-spacing: 2px 8px;
                margin: auto;
                width: 90%;
            }

            .calibration-number-form-td {
                /* width: 40%; */
                height: 30px;
            }
            .calibration-number-form {
                outline: none;

                border:0;
                padding:10px;
                font-size:1.3em;
                color:#777;
                border:solid 1px #ccc;
                margin:0 0 20px;
                width:70%;

                -webkit-border-radius: 3px;
                -moz-border-radius: 3px;
                border-radius: 3px;
            }

            .calibration-number-form:focus {
                outline-offset: -10px;
                border:solid 2px #44ACF0;
            }

            .more-small {
                width: 30%;
            }

            .new-calibration-value-table {
                width: 100%;
                margin: auto;
            }

            .new-calibration-value-table td {
                text-align: center;
            }

            .raw-sensor-value {
                font-size: 1.3em;
                color:#777;
            }


            /* update device */
            .timer-box {
                display: flex;
            }
            .timer-label-box {
                text-align: left;
                width: 130px;
                font-size: 14px;
                font-weight: normal;
                color: #b3b3b3;
            }
            @media screen and (max-width: 480px) {
                .timer-label-box {
                    width: 90px;
                }
            }
            .timer-colon {
                margin: auto 10px;
                font-size: 30px;
                color: #555;
            }
            @media screen and (max-width: 480px) {
                .timer-colon {
                    margin-top: 17px;
                }
            }
            .select-box-timer {
                display: inline-block;
            }



            /* update sensor で使われるやつ */
            .modal-form-container {
                text-align: left;
                margin-left: 50px;
            }
            @media screen and (max-width: 480px) { 
                .modal-form-container {
                    width: 97%;
                    margin-left: 10px;
                    margin-right: 10px;
                }
            }

            .modal-select-container {
                text-align: left;
                margin: auto;
                width: 80%;
            }
            .select-label {
                font-size: 14px;
                font-weight: normal;
                color: #b3b3b3;
                margin-left: 40px;
            }

            @media screen and (max-width: 480px) { 
                .modal-select-container .select-label {
                    margin-bottom: -20px;
                }
                .modal-select-container {
                    margin-top: -20px;
            }
        }

    </style>



<style>
    .select-box {
        overflow: hidden;
        width: 90%;
        margin: 2em auto;
        text-align: center;
    }
    @media screen and (max-width: 480px) {
        /* if use select-box, it affects others select box */
        .device-update-modal-select-box {
            margin: 0.8em auto;
            margin-bottom: 2em;
        }
    }

    .select-box select {
        width: 100%;
        padding-right: 1em;
        cursor: pointer;
        text-indent: 0.01px;
        text-overflow: ellipsis;
        font-size: 17px;
        border: none;
        outline: none;
        background: transparent;
        background-image: none;
        box-shadow: none;
        -webkit-appearance: none;
        appearance: none;
    }

    .select-box select::-ms-expand {
        display: none;
    }

    .select-box.select-box-simple {
        position: relative;
        border: 1px solid #bbbbbb;
        border-radius: 2px;
        background: #ffffff;
    }

    .select-box.select-box-simple::before {
        position: absolute;
        top: 0.8em;
        right: 0.9em;
        width: 0;
        height: 0;
        padding: 0;
        content: '';
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-top: 6px solid #666666;
        pointer-events: none;
    }
    

    .select-box.select-box-simple select {
        padding: 8px 38px 8px 8px;
        color: #666666;
    }
    

</style>

</body>

</html>